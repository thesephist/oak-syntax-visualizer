/* oak build --web */
// module system
const __Oak_Modules = {};
let __Oak_Import_Aliases;
function __oak_modularize(name, fn) {
	__Oak_Modules[name] = fn;
}
function __oak_module_import(name) {
	if (typeof __Oak_Modules[name] === 'object') return __Oak_Modules[name];
	const module = __Oak_Modules[name] || __Oak_Modules[__Oak_Import_Aliases[name]];
	if (module) {
		return __Oak_Modules[name] = module();
	} else {
		throw new Error(`Could not import Oak module "${name}" at runtime`);
	}
}

// language primitives
let __oak_empty_assgn_trgt;
function __oak_eq(a, b) {
	a = __as_oak_string(a);
	b = __as_oak_string(b);
	if (a === __Oak_Empty || b === __Oak_Empty) return true;

	// match either null or undefined to compare correctly against undefined ?s
	// appearing in places like optional arguments
	if (a == null && b == null) return true;
	if (a === null || b === null) return false;

	if (typeof a !== typeof b) return false;
	if (__is_oak_string(a) && __is_oak_string(b)) {
		return a.valueOf() === b.valueOf();
	}
	if (typeof a === 'number' || typeof a === 'boolean' ||
		typeof a === 'function' || typeof a === 'symbol') {
		return a === b;
	}

	// deep equality check for composite values
	if (!Array.isArray(a) && typeof a !== 'object') return false;
	if (len(a) !== len(b)) return false;
	for (const key of keys(a)) {
		if (!__oak_eq(a[key], b[key])) return false;
	}
	return true;
}
function __oak_push(a, b) {
	a = __as_oak_string(a);
	a.push(b);
	return a;
}
function __oak_and(a, b) {
	if (typeof a === 'boolean' && typeof b === 'boolean') {
		return a && b;
	}
	if (__is_oak_string(a) && __is_oak_string(b)) {
		const max = Math.max(a.length, b.length);
		const get = (s, i) => s.valueOf().charCodeAt(i) || 0;

		let res = '';
		for (let i = 0; i < max; i ++) {
			res += String.fromCharCode(get(a, i) & get(b, i));
		}
		return res;
	}
	return a & b;
}
function __oak_or(a, b) {
	if (typeof a === 'boolean' && typeof b === 'boolean') {
		return a || b;
	}
	if (__is_oak_string(a) && __is_oak_string(b)) {
		const max = Math.max(a.length, b.length);
		const get = (s, i) => s.valueOf().charCodeAt(i) || 0;

		let res = '';
		for (let i = 0; i < max; i ++) {
			res += String.fromCharCode(get(a, i) | get(b, i));
		}
		return res;
	}
	return a | b;
}
function __oak_xor(a, b) {
	if (typeof a === 'boolean' && typeof b === 'boolean') {
		return (a && !b) || (!a && b);
	}
	if (__is_oak_string(a) && __is_oak_string(b)) {
		const max = Math.max(a.length, b.length);
		const get = (s, i) => s.valueOf().charCodeAt(i) || 0;

		let res = '';
		for (let i = 0; i < max; i ++) {
			res += String.fromCharCode(get(a, i) ^ get(b, i));
		}
		return res;
	}
	return a ^ b;
}
function __oak_if(cond, branches) {
	for (const [target, body] of branches) {
		if (__oak_eq(cond, target())) return body();
	}
	return null;
}
const __Oak_Empty = Symbol('__Oak_Empty');

// mutable string type
function __is_oak_string(x) {
	if (x == null) return false;
	return x.__mark_oak_string;
}
function __as_oak_string(x) {
	if (typeof x === 'string') return __Oak_String(x);
	return x;
}
const __Oak_String = s => {
	if (__is_oak_string(s)) return s;
	return {
		__mark_oak_string: true,
		assign(i, slice) {
			if (i === s.length) return s += slice;
			return s = s.substr(0, i) + slice + s.substr(i + slice.length);
		},
		push(slice) {
			s += slice;
		},
		toString() {
			return s;
		},
		valueOf() {
			return s;
		},
		get length() {
			return s.length;
		},
	}
}

// tail recursion trampoline helpers
function __oak_resolve_trampoline(fn, ...args) {
	let rv = fn(...args);
	while (rv && rv.__is_oak_trampoline) {
		rv = rv.fn(...rv.args);
	}
	return rv;
}
function __oak_trampoline(fn, ...args) {
	return {
		__is_oak_trampoline: true,
		fn: fn,
		args: args,
	}
}

// env (builtin) functions

// reflection and types
const __Is_Oak_Node = typeof process === 'object';
const __Oak_Int_RE = /^[+-]?\d+$/;
function int(x) {
	x = __as_oak_string(x);
	if (typeof x === 'number') {
		// JS rounds towards higher magnitude, Oak rounds towards higher value
		const rounded = Math.floor(x);
		const diff = x - rounded;
		if (x < 0 && diff === 0.5) return rounded + 1;
		return rounded;
	}
	if (__is_oak_string(x) && __Oak_Int_RE.test(x.valueOf())) {
		const i = Number(x.valueOf());
		if (isNaN(i)) return null;
		return i;
	}
	return null;
}
function float(x) {
	x = __as_oak_string(x);
	if (typeof x === 'number') return x;
	if (__is_oak_string(x)) {
		const f = parseFloat(x.valueOf());
		if (isNaN(f)) return null;
		return f;
	}
	return null;
}
function atom(x) {
	x = __as_oak_string(x);
	if (typeof x === 'symbol' && x !== __Oak_Empty) return x;
	if (__is_oak_string(x)) return Symbol.for(x.valueOf());
	return Symbol.for(string(x));
}
function string(x) {
	x = __as_oak_string(x);
	function display(x) {
		x = __as_oak_string(x);
		if (__is_oak_string(x)) {
			return '\'' + x.valueOf().replace('\\', '\\\\').replace('\'', '\\\'') + '\'';
		} else if (typeof x === 'symbol') {
			if (x === __Oak_Empty) return '_';
			return ':' + Symbol.keyFor(x);
		}
		return string(x);
	}
	if (x === null) {
		return '?';
	} else if (typeof x === 'number') {
		return x.toString();
	} else if (__is_oak_string(x)) {
		return x;
	} else if (typeof x === 'boolean') {
		return x.toString();
	} else if (typeof x === 'function') {
		return x.toString();
	} else if (typeof x === 'symbol') {
		if (x === __Oak_Empty) return '_';
		return Symbol.keyFor(x);
	} else if (Array.isArray(x)) {
		return '[' + x.map(display).join(', ') + ']';
	} else if (typeof x === 'object') {
		const entries = [];
		for (const key of keys(x).sort()) {
			entries.push(`${key}: ${display(x[key])}`);
		}
		return '{' + entries.join(', ') + '}';
	}
	throw new Error('string() called on unknown type ' + x.toString());
}
function codepoint(c) {
	c = __as_oak_string(c);
	return c.valueOf().charCodeAt(0);
}
function char(n) {
	return String.fromCharCode(n);
}
function type(x) {
	x = __as_oak_string(x);
	if (x === null) {
		return Symbol.for('null');
	} else if (typeof x === 'number') {
		// Many discrete APIs check for :int, so we consider all integer
		// numbers :int and fall back to :float. This is not an airtight
		// solution, but works well enough and the alternative (tagged number
		// values/types) have poor perf tradeoffs.
		if (Number.isInteger(x)) return Symbol.for('int');
		return Symbol.for('float');
	} else if (__is_oak_string(x)) {
		return Symbol.for('string');
	} else if (typeof x === 'boolean') {
		return Symbol.for('bool');
	} else if (typeof x === 'symbol') {
		if (x === __Oak_Empty) return Symbol.for('empty');
		return Symbol.for('atom');
	} else if (typeof x === 'function') {
		return Symbol.for('function');
	} else if (Array.isArray(x)) {
		return Symbol.for('list');
	} else if (typeof x === 'object') {
		return Symbol.for('object');
	}
	throw new Error('type() called on unknown type ' + x.toString());
}
function len(x) {
	x = __as_oak_string(x);
	if (__is_oak_string(x)) {
		return x.length;
	} else if (Array.isArray(x)) {
		return x.length;
	} else if (typeof x === 'object' && x !== null) {
		return Object.getOwnPropertyNames(x).length;
	}
	throw new Error('len() takes a string or composite value, but got ' + string(x));
}
function keys(x) {
	if (Array.isArray(x)) {
		const k = [];
		for (let i = 0; i < x.length; i ++) k.push(i);
		return k;
	} else if (typeof x === 'object' && x !== null) {
		return Object.getOwnPropertyNames(x).map(__as_oak_string);
	}
	throw new Error('keys() takes a composite value, but got ' + string(x).valueOf());
}

// OS interfaces
function args() {
	if (__Is_Oak_Node) return process.argv.map(__as_oak_string);
	return [window.location.href];
}
function env() {
	if (__Is_Oak_Node) {
		const e = Object.assign({}, process.env);
		for (const key in e) {
			e[key] = __as_oak_string(e[key]);
		}
		return e;
	}
	return {};
}
function time() {
	return Date.now() / 1000;
}
function nanotime() {
	return int(Date.now() * 1000000);
}
function rand() {
	return Math.random();
}
let randomBytes;
function srand(length) {
	if (__Is_Oak_Node) {
		// lazily import dependency
		if (!randomBytes) randomBytes = require('crypto').randomBytes;
		return randomBytes(length).toString('latin1');
	}

	const bytes = crypto.getRandomValues(new Uint8Array(length));
	return __as_oak_string(Array.from(bytes).map(b => String.fromCharCode(b)).join(''));
}
function wait(duration, cb) {
	setTimeout(cb, duration * 1000);
	return null;
}
function exit(code) {
	if (__Is_Oak_Node) process.exit(code);
	return null;
}
function exec() {
	throw new Error('exec() not implemented');
}

// I/O
function input() {
	throw new Error('input() not implemented');
}
function print(s) {
	s = __as_oak_string(s);
	if (__Is_Oak_Node) {
		process.stdout.write(string(s).toString());
	} else {
		console.log(string(s).toString());
	}
	return s.length;
}
function ls() {
	throw new Error('ls() not implemented');
}
function rm() {
	throw new Error('rm() not implemented');
}
function mkdir() {
	throw new Error('mkdir() not implemented');
}
function stat() {
	throw new Error('stat() not implemented');
}
function open() {
	throw new Error('open() not implemented');
}
function close() {
	throw new Error('close() not implemented');
}
function read() {
	throw new Error('read() not implemented');
}
function write() {
	throw new Error('write() not implemented');
}
function listen() {
	throw new Error('listen() not implemented');
}
function req() {
	throw new Error('req() not implemented');
}

// math
function sin(n) {
	return Math.sin(n);
}
function cos(n) {
	return Math.cos(n);
}
function tan(n) {
	return Math.tan(n);
}
function asin(n) {
	return Math.asin(n);
}
function acos(n) {
	return Math.acos(n);
}
function atan(n) {
	return Math.atan(n);
}
function pow(b, n) {
	return Math.pow(b, n);
}
function log(b, n) {
	return Math.log(n) / Math.log(b);
}

// runtime
function ___runtime_lib() {
	throw new Error('___runtime_lib() not implemented');
}
function ___runtime_lib__oak_qm() {
	throw new Error('___runtime_lib?() not implemented');
}

// JavaScript interop
function bind(target, fn) {
	const fnName = Symbol.keyFor(fn);
	return target[fnName].bind(target);
}
function __oak_js_new(Constructor, ...args) {
	return new Constructor(...args);
}
(__oak_modularize(__Oak_String(`app.js.oak`),function _(){return (()=>{ let InitialSource;let __module;let pprint;let println;let progInput;let select;let showTokens;let showTree;let syntax;let tokensBox;let tokensContainer;let treeBox;let treeContainer;let updateVisualizations;(__module={});({println:println=null}=__oak_module_import(__Oak_String(`std`)));(syntax=__oak_module_import(__Oak_String(`syntax`)));(pprint=__oak_module_import(__Oak_String(`pprint.oak`)));(InitialSource=__Oak_String(`std := import('std')
std.println('Hello, World!')`));(select=bind(document,Symbol.for('querySelector')));(progInput=select(__Oak_String(`textarea[name=prog]`)));(showTokens=select(__Oak_String(`input[name=vis-tokens]`)));(showTree=select(__Oak_String(`input[name=vis-tree]`)));(tokensContainer=select(__Oak_String(`.vis-tokens`)));(treeContainer=select(__Oak_String(`.vis-tree`)));(tokensBox=select(__Oak_String(`.vis-tokens pre code`)));(treeBox=select(__Oak_String(`.vis-tree pre code`)));updateVisualizations=function updateVisualizations(){return (()=>{ let prog;(prog=(()=>{let __oak_acc_trgt=__as_oak_string(progInput);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[value])||null:(__oak_acc_trgt.value!==undefined?__oak_acc_trgt.value:null)})());(()=>{let __oak_assgn_trgt=__as_oak_string(tokensBox);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(textContent,(()=>{let __oak_acc_trgt=__as_oak_string(pprint);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[tokenStream])||null:(__oak_acc_trgt.tokenStream!==undefined?__oak_acc_trgt.tokenStream:null)})()(prog)):((__oak_assgn_trgt.textContent)=(()=>{let __oak_acc_trgt=__as_oak_string(pprint);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[tokenStream])||null:(__oak_acc_trgt.tokenStream!==undefined?__oak_acc_trgt.tokenStream:null)})()(prog));return __oak_assgn_trgt})();return (()=>{let __oak_assgn_trgt=__as_oak_string(treeBox);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(textContent,(()=>{let __oak_acc_trgt=__as_oak_string(pprint);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[syntaxTree])||null:(__oak_acc_trgt.syntaxTree!==undefined?__oak_acc_trgt.syntaxTree:null)})()(prog)):((__oak_assgn_trgt.textContent)=(()=>{let __oak_acc_trgt=__as_oak_string(pprint);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[syntaxTree])||null:(__oak_acc_trgt.syntaxTree!==undefined?__oak_acc_trgt.syntaxTree:null)})()(prog));return __oak_assgn_trgt})() })()};bind(progInput,Symbol.for('addEventListener'))(__Oak_String(`input`),function _(evt=null){return (updateVisualizations())});bind(showTokens,Symbol.for('addEventListener'))(__Oak_String(`change`),function _(evt=null){return ((()=>{let __oak_assgn_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(tokensContainer);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[style])||null:(__oak_acc_trgt.style!==undefined?__oak_acc_trgt.style:null)})());__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(display,__oak_if((()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(evt);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[target])||null:(__oak_acc_trgt.target!==undefined?__oak_acc_trgt.target:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[checked])||null:(__oak_acc_trgt.checked!==undefined?__oak_acc_trgt.checked:null)})(),[[()=>(true),()=>(__Oak_String(`block`))],[()=>(__Oak_Empty),()=>(__Oak_String(`none`))]])):((__oak_assgn_trgt.display)=__oak_if((()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(evt);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[target])||null:(__oak_acc_trgt.target!==undefined?__oak_acc_trgt.target:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[checked])||null:(__oak_acc_trgt.checked!==undefined?__oak_acc_trgt.checked:null)})(),[[()=>(true),()=>(__Oak_String(`block`))],[()=>(__Oak_Empty),()=>(__Oak_String(`none`))]]));return __oak_assgn_trgt})())});bind(showTree,Symbol.for('addEventListener'))(__Oak_String(`change`),function _(evt=null){return ((()=>{let __oak_assgn_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(treeContainer);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[style])||null:(__oak_acc_trgt.style!==undefined?__oak_acc_trgt.style:null)})());__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(display,__oak_if((()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(evt);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[target])||null:(__oak_acc_trgt.target!==undefined?__oak_acc_trgt.target:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[checked])||null:(__oak_acc_trgt.checked!==undefined?__oak_acc_trgt.checked:null)})(),[[()=>(true),()=>(__Oak_String(`block`))],[()=>(__Oak_Empty),()=>(__Oak_String(`none`))]])):((__oak_assgn_trgt.display)=__oak_if((()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(evt);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[target])||null:(__oak_acc_trgt.target!==undefined?__oak_acc_trgt.target:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[checked])||null:(__oak_acc_trgt.checked!==undefined?__oak_acc_trgt.checked:null)})(),[[()=>(true),()=>(__Oak_String(`block`))],[()=>(__Oak_Empty),()=>(__Oak_String(`none`))]]));return __oak_assgn_trgt})())});(()=>{let __oak_assgn_trgt=__as_oak_string(progInput);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(value,InitialSource):((__oak_assgn_trgt.value)=InitialSource);return __oak_assgn_trgt})();updateVisualizations();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(InitialSource,InitialSource):((__oak_assgn_trgt.InitialSource)=InitialSource);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(pprint,pprint):((__oak_assgn_trgt.pprint)=pprint);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(println,println):((__oak_assgn_trgt.println)=println);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(progInput,progInput):((__oak_assgn_trgt.progInput)=progInput);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(select,select):((__oak_assgn_trgt.select)=select);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(showTokens,showTokens):((__oak_assgn_trgt.showTokens)=showTokens);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(showTree,showTree):((__oak_assgn_trgt.showTree)=showTree);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(syntax,syntax):((__oak_assgn_trgt.syntax)=syntax);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(tokensBox,tokensBox):((__oak_assgn_trgt.tokensBox)=tokensBox);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(tokensContainer,tokensContainer):((__oak_assgn_trgt.tokensContainer)=tokensContainer);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(treeBox,treeBox):((__oak_assgn_trgt.treeBox)=treeBox);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(treeContainer,treeContainer):((__oak_assgn_trgt.treeContainer)=treeContainer);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(updateVisualizations,updateVisualizations):((__oak_assgn_trgt.updateVisualizations)=updateVisualizations);return __oak_assgn_trgt})();return __module })()}),__oak_modularize(__Oak_String(`pprint.oak`),function _(){return (()=>{ let __module;let append;let clone;let __oak_js_default;let each;let format;let join;let map;let println;let reduce;let renderTreeDown;let renderTreeList;let replace;let slice;let syntax;let syntaxTree;let tokenStream;let tree;(__module={});({println:println=null,__oak_js_default:__oak_js_default=null,clone:clone=null,map:map=null,each:each=null,slice:slice=null,append:append=null,reduce:reduce=null}=__oak_module_import(__Oak_String(`std`)));({join:join=null,replace:replace=null}=__oak_module_import(__Oak_String(`str`)));({format:format=null}=__oak_module_import(__Oak_String(`fmt`)));(syntax=__oak_module_import(__Oak_String(`syntax`)));tree=function tree(node=null){return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('empty')),()=>([Symbol.for('Empty')])],[()=>(Symbol.for('null')),()=>([Symbol.for('Null')])],[()=>(Symbol.for('string')),()=>([Symbol.for('String'),(()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})()])],[()=>(Symbol.for('assignment')),()=>([Symbol.for('Assignment'),tree((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[left])||null:(__oak_acc_trgt.left!==undefined?__oak_acc_trgt.left:null)})()),tree((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[right])||null:(__oak_acc_trgt.right!==undefined?__oak_acc_trgt.right:null)})())])],[()=>(Symbol.for('float')),()=>([Symbol.for('Float'),(()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})()])],[()=>(Symbol.for('int')),()=>([Symbol.for('Int'),(()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})()])],[()=>(Symbol.for('bool')),()=>([Symbol.for('Bool'),(()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})()])],[()=>(Symbol.for('atom')),()=>([Symbol.for('Atom'),(()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})()])],[()=>(Symbol.for('list')),()=>(append([Symbol.for('List')],map((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[elems])||null:(__oak_acc_trgt.elems!==undefined?__oak_acc_trgt.elems:null)})(),tree)))],[()=>(Symbol.for('object')),()=>([Symbol.for('Object'),append([Symbol.for('Entries')],map((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[entries])||null:(__oak_acc_trgt.entries!==undefined?__oak_acc_trgt.entries:null)})(),function _(entry=null){return [Symbol.for('Entry'),tree((()=>{let __oak_acc_trgt=__as_oak_string(entry);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[key])||null:(__oak_acc_trgt.key!==undefined?__oak_acc_trgt.key:null)})()),tree((()=>{let __oak_acc_trgt=__as_oak_string(entry);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})())]}))])],[()=>(Symbol.for('block')),()=>(append([Symbol.for('Block')],map((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[exprs])||null:(__oak_acc_trgt.exprs!==undefined?__oak_acc_trgt.exprs:null)})(),tree)))],[()=>(Symbol.for('function')),()=>([Symbol.for('Function'),__oak_js_default((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[name])||null:(__oak_acc_trgt.name!==undefined?__oak_acc_trgt.name:null)})(),__Oak_String(`(anonymous)`)),__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[restArg])||null:(__oak_acc_trgt.restArg!==undefined?__oak_acc_trgt.restArg:null)})(),[[()=>(__Oak_String(``)),()=>(append([Symbol.for('Args')],(()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[args])||null:(__oak_acc_trgt.args!==undefined?__oak_acc_trgt.args:null)})()))],[()=>(__Oak_Empty),()=>(append(append([Symbol.for('Args')],(()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[args])||null:(__oak_acc_trgt.args!==undefined?__oak_acc_trgt.args:null)})()),[(()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[restArg])||null:(__oak_acc_trgt.restArg!==undefined?__oak_acc_trgt.restArg:null)})()]))]]),[Symbol.for('Body'),tree((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[body])||null:(__oak_acc_trgt.body!==undefined?__oak_acc_trgt.body:null)})())]])],[()=>(Symbol.for('identifier')),()=>([Symbol.for('Identifier'),(()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})()])],[()=>(Symbol.for('unary')),()=>([Symbol.for('UnaryExpr'),(()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[op])||null:(__oak_acc_trgt.op!==undefined?__oak_acc_trgt.op:null)})(),tree((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[right])||null:(__oak_acc_trgt.right!==undefined?__oak_acc_trgt.right:null)})())])],[()=>(Symbol.for('binary')),()=>([Symbol.for('BinaryExpr'),(()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[op])||null:(__oak_acc_trgt.op!==undefined?__oak_acc_trgt.op:null)})(),tree((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[left])||null:(__oak_acc_trgt.left!==undefined?__oak_acc_trgt.left:null)})()),tree((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[right])||null:(__oak_acc_trgt.right!==undefined?__oak_acc_trgt.right:null)})())])],[()=>(Symbol.for('ifExpr')),()=>([Symbol.for('If'),tree((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[cond])||null:(__oak_acc_trgt.cond!==undefined?__oak_acc_trgt.cond:null)})()),append([Symbol.for('Branches')],map((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[branches])||null:(__oak_acc_trgt.branches!==undefined?__oak_acc_trgt.branches:null)})(),function _(br=null){return [Symbol.for('Branch'),tree((()=>{let __oak_acc_trgt=__as_oak_string(br);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[target])||null:(__oak_acc_trgt.target!==undefined?__oak_acc_trgt.target:null)})()),tree((()=>{let __oak_acc_trgt=__as_oak_string(br);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[body])||null:(__oak_acc_trgt.body!==undefined?__oak_acc_trgt.body:null)})())]}))])],[()=>(Symbol.for('propertyAccess')),()=>([Symbol.for('PropertyAccess'),tree((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[left])||null:(__oak_acc_trgt.left!==undefined?__oak_acc_trgt.left:null)})()),tree((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[right])||null:(__oak_acc_trgt.right!==undefined?__oak_acc_trgt.right:null)})())])],[()=>(Symbol.for('fnCall')),()=>([Symbol.for('FunctionCall'),tree((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[__oak_js_function])||null:(__oak_acc_trgt.__oak_js_function!==undefined?__oak_acc_trgt.__oak_js_function:null)})()),__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[restArg])||null:(__oak_acc_trgt.restArg!==undefined?__oak_acc_trgt.restArg:null)})(),[[()=>(null),()=>(append([Symbol.for('Args')],map((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[args])||null:(__oak_acc_trgt.args!==undefined?__oak_acc_trgt.args:null)})(),tree)))],[()=>(__Oak_Empty),()=>(append(append([Symbol.for('Args')],map((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[args])||null:(__oak_acc_trgt.args!==undefined?__oak_acc_trgt.args:null)})(),tree)),[tree((()=>{let __oak_acc_trgt=__as_oak_string(node);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[restArg])||null:(__oak_acc_trgt.restArg!==undefined?__oak_acc_trgt.restArg:null)})())]))]])])]])};renderTreeList=function renderTreeList(tr=null){return __oak_if(type(tr),[[()=>(Symbol.for('list')),()=>(__as_oak_string(__as_oak_string(__Oak_String(`[`)+join(join(map(tr,renderTreeList),__Oak_String(` `))))+__Oak_String(`]`)))],[()=>(__Oak_Empty),()=>(string(tr))]])};renderTreeDown=function renderTreeDown(tr=null,lasts=null){return (()=>{ let indent;let render;(lasts=__oak_js_default(lasts,[]));(indent=reduce(lasts,__Oak_String(``),function _(indent=null,last__oak_qm=null,i=null){return __oak_if(true,[[()=>(__oak_and(last__oak_qm,__oak_eq(i,(len(lasts)-1)))),()=>(__oak_push(indent,__Oak_String(`└─`)))],[()=>(last__oak_qm),()=>(__oak_push(indent,__Oak_String(`  `)))],[()=>(__oak_eq(i,(len(lasts)-1))),()=>(__oak_push(indent,__Oak_String(`├─`)))],[()=>(__Oak_Empty),()=>(__oak_push(indent,__Oak_String(`│ `)))]])}));render=function render(val=null){return __oak_if(type(val),[[()=>(Symbol.for('string')),()=>(__as_oak_string(__as_oak_string(__Oak_String(`'`)+(replace(replace(val,__Oak_String(`'`),__Oak_String(`\\'`)),__Oak_String(`
`),__Oak_String(`\\n`))))+__Oak_String(`'`)))],[()=>(__Oak_Empty),()=>(string(val))]])};return __oak_if(type(tr),[[()=>(Symbol.for('list')),()=>(join(map(tr,function _(child=null,i=null){return (__oak_if(i,[[()=>(0),()=>(__as_oak_string(indent+render(child)))],[()=>(__Oak_Empty),()=>(renderTreeDown(child,__oak_push(clone(lasts),__oak_eq(i,(len(tr)-1)))))]]))}),__Oak_String(`
`)))],[()=>(__Oak_Empty),()=>(__as_oak_string(indent+render(tr)))]]) })()};tokenStream=function tokenStream(prog=null){return (join(map((()=>{let __oak_acc_trgt=__as_oak_string(syntax);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[tokenize])||null:(__oak_acc_trgt.tokenize!==undefined?__oak_acc_trgt.tokenize:null)})()(prog),string),__Oak_String(`
`)))};syntaxTree=function syntaxTree(prog=null){return (()=>{ let nodes;(nodes=(()=>{let __oak_acc_trgt=__as_oak_string(syntax);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[parse])||null:(__oak_acc_trgt.parse!==undefined?__oak_acc_trgt.parse:null)})()(prog));return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(nodes);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('error')),()=>(format(__Oak_String(`Syntax error: {{0}}`),(()=>{let __oak_acc_trgt=__as_oak_string(nodes);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[error])||null:(__oak_acc_trgt.error!==undefined?__oak_acc_trgt.error:null)})()))],[()=>(__Oak_Empty),()=>(join(map(nodes,function _(node=null){return renderTreeDown(tree(node))}),__Oak_String(`
`)))]]) })()};(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(append,append):((__oak_assgn_trgt.append)=append);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(clone,clone):((__oak_assgn_trgt.clone)=clone);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(__oak_js_default,__oak_js_default):((__oak_assgn_trgt.__oak_js_default)=__oak_js_default);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(each,each):((__oak_assgn_trgt.each)=each);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(format,format):((__oak_assgn_trgt.format)=format);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(join,join):((__oak_assgn_trgt.join)=join);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(map,map):((__oak_assgn_trgt.map)=map);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(println,println):((__oak_assgn_trgt.println)=println);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(reduce,reduce):((__oak_assgn_trgt.reduce)=reduce);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(renderTreeDown,renderTreeDown):((__oak_assgn_trgt.renderTreeDown)=renderTreeDown);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(renderTreeList,renderTreeList):((__oak_assgn_trgt.renderTreeList)=renderTreeList);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(replace,replace):((__oak_assgn_trgt.replace)=replace);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(slice,slice):((__oak_assgn_trgt.slice)=slice);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(syntax,syntax):((__oak_assgn_trgt.syntax)=syntax);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(syntaxTree,syntaxTree):((__oak_assgn_trgt.syntaxTree)=syntaxTree);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(tokenStream,tokenStream):((__oak_assgn_trgt.tokenStream)=tokenStream);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(tree,tree):((__oak_assgn_trgt.tree)=tree);return __oak_assgn_trgt})();return __module })()}),__oak_modularize(__Oak_String(`fmt`),function _(){return (()=>{ let __module;let format;let printf;let println;(__module={});({println:println=null}=__oak_module_import(__Oak_String(`std`)));format=function format(raw=null,...values){return (()=>{ let buf;let key;let sub;let which;(which=0);(key=__Oak_String(``));(buf=__Oak_String(``));sub=function sub(idx=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(idx=null){return __oak_if((idx<len(raw)),[[()=>(true),()=>((()=>{ let c;(c=(()=>{let __oak_acc_trgt=__as_oak_string(raw);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(idx)])||null:(__oak_acc_trgt[(idx)]!==undefined?__oak_acc_trgt[(idx)]:null)})());__oak_if(which,[[()=>(0),()=>(__oak_if(c,[[()=>(__Oak_String(`{`)),()=>((which=1))],[()=>(__Oak_Empty),()=>(__oak_push(buf,c))]]))],[()=>(1),()=>(__oak_if(c,[[()=>(__Oak_String(`{`)),()=>((which=2))],[()=>(__Oak_Empty),()=>((__oak_push(__oak_push(buf,__Oak_String(`{`)),c),(which=0)))]]))],[()=>(2),()=>(__oak_if(c,[[()=>(__Oak_String(`}`)),()=>((__oak_push(buf,string((()=>{let __oak_acc_trgt=__as_oak_string(values);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(int(key))])||null:(__oak_acc_trgt[(int(key))]!==undefined?__oak_acc_trgt[(int(key))]:null)})())),(key=__Oak_String(``)),(which=3)))],[()=>(__Oak_String(` `)),()=>(null)],[()=>(__Oak_Empty),()=>((key=__as_oak_string(key+c)))]]))],[()=>(3),()=>(__oak_if(c,[[()=>(__Oak_String(`}`)),()=>((which=0))],[()=>(__Oak_Empty),()=>(null)]]))]]);return __oak_trampoline(__oak_trampolined_sub,__as_oak_string(idx+1)) })())],[()=>(__Oak_Empty),()=>(buf)]])});return __oak_resolve_trampoline(__oak_trampolined_sub,idx) })()};return sub(0) })()};printf=function printf(raw=null,...values){return println(format(raw,...values))};(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(format,format):((__oak_assgn_trgt.format)=format);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(printf,printf):((__oak_assgn_trgt.printf)=printf);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(println,println):((__oak_assgn_trgt.println)=println);return __oak_assgn_trgt})();return __module })()}),__oak_modularize(__Oak_String(`math`),function _(){return (()=>{ let E;let Pi;let __module;let abs;let __oak_js_default;let max;let min;let reduce;let round;let sign;let sum;(__module={});({__oak_js_default:__oak_js_default=null,reduce:reduce=null}=__oak_module_import(__Oak_String(`std`)));(Pi=3.141592653589793);(E=2.718281828459045);sign=function sign(n=null){return __oak_if((n>=0),[[()=>(true),()=>(1)],[()=>(__Oak_Empty),()=>(-1)]])};abs=function abs(n=null){return __oak_if((n>=0),[[()=>(true),()=>(n)],[()=>(__Oak_Empty),()=>(-n)]])};sum=function sum(...xs){return reduce(xs,0,function _(a=null,b=null){return __as_oak_string(a+b)})};min=function min(...xs){return reduce(xs,(()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[0])||null:(__oak_acc_trgt[0]!==undefined?__oak_acc_trgt[0]:null)})(),function _(acc=null,n=null){return __oak_if((n<acc),[[()=>(true),()=>(n)],[()=>(__Oak_Empty),()=>(acc)]])})};max=function max(...xs){return reduce(xs,(()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[0])||null:(__oak_acc_trgt[0]!==undefined?__oak_acc_trgt[0]:null)})(),function _(acc=null,n=null){return __oak_if((n>acc),[[()=>(true),()=>(n)],[()=>(__Oak_Empty),()=>(acc)]])})};round=function round(n=null,decimals=null){return ((decimals=__oak_js_default(int(decimals),0)),__oak_if((decimals<0),[[()=>(true),()=>(n)],[()=>(__Oak_Empty),()=>((()=>{ let order;(order=pow(10,decimals));return __oak_if((n>=0),[[()=>(true),()=>((int(__as_oak_string((n*order)+0.5))/order))],[()=>(__Oak_Empty),()=>((-int(__as_oak_string((-n*order)+0.5))/order))]]) })())]]))};(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(E,E):((__oak_assgn_trgt.E)=E);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(Pi,Pi):((__oak_assgn_trgt.Pi)=Pi);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(abs,abs):((__oak_assgn_trgt.abs)=abs);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(__oak_js_default,__oak_js_default):((__oak_assgn_trgt.__oak_js_default)=__oak_js_default);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(max,max):((__oak_assgn_trgt.max)=max);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(min,min):((__oak_assgn_trgt.min)=min);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(reduce,reduce):((__oak_assgn_trgt.reduce)=reduce);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(round,round):((__oak_assgn_trgt.round)=round);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(sign,sign):((__oak_assgn_trgt.sign)=sign);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(sum,sum):((__oak_assgn_trgt.sum)=sum);return __oak_assgn_trgt})();return __module })()}),__oak_modularize(__Oak_String(`std`),function _(){return (()=>{ let __module;let _baseIterator;let _hToN;let _nToH;let append;let clamp;let clone;let contains__oak_qm;let debounce;let __oak_js_default;let each;let entries;let every;let filter;let find;let flatten;let fromHex;let identity;let indexOf;let join;let loop;let map;let merge;let once;let partition;let println;let range;let reduce;let reverse;let slice;let some;let toHex;let uniq;let values;let zip;(__module={});identity=function identity(x=null){return x};_baseIterator=function _baseIterator(v=null){return __oak_if(type(v),[[()=>(Symbol.for('string')),()=>(__Oak_String(``))],[()=>(Symbol.for('list')),()=>([])],[()=>(Symbol.for('object')),()=>({})]])};__oak_js_default=function __oak_js_default(x=null,base=null){return __oak_if(x,[[()=>(null),()=>(base)],[()=>(__Oak_Empty),()=>(x)]])};(_nToH=__Oak_String(`0123456789abcdef`));toHex=function toHex(n=null){return (()=>{ let sub;sub=function sub(p=null,acc=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(p=null,acc=null){return __oak_if((p<16),[[()=>(true),()=>(__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(_nToH);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(p)])||null:(__oak_acc_trgt[(p)]!==undefined?__oak_acc_trgt[(p)]:null)})()+acc))],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,int((p/16)),__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(_nToH);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[((p%16))])||null:(__oak_acc_trgt[((p%16))]!==undefined?__oak_acc_trgt[((p%16))]:null)})()+acc)))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,p,acc) })()};return sub(int(n),__Oak_String(``)) })()};(_hToN={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15});fromHex=function fromHex(s=null){return (()=>{ let sub;sub=function sub(i=null,acc=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null,acc=null){let next;return __oak_if(true,[[()=>(__oak_eq(i,len(s))),()=>(acc)],[()=>(!__oak_eq(null,(next=(()=>{let __oak_acc_trgt=__as_oak_string(_hToN);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})())])||null:(__oak_acc_trgt[((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})())]!==undefined?__oak_acc_trgt[((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})())]:null)})()))),()=>(__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1),__as_oak_string((acc*16)+next)))],[()=>(__Oak_Empty),()=>(null)]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i,acc) })()};return sub(0,0) })()};clamp=function clamp(min=null,max=null,n=null,m=null){return ((n=__oak_if((n<min),[[()=>(true),()=>(min)],[()=>(__Oak_Empty),()=>(n)]])),(m=__oak_if((m<min),[[()=>(true),()=>(min)],[()=>(__Oak_Empty),()=>(m)]])),(m=__oak_if((m>max),[[()=>(true),()=>(max)],[()=>(__Oak_Empty),()=>(m)]])),(n=__oak_if((n>m),[[()=>(true),()=>(m)],[()=>(__Oak_Empty),()=>(n)]])),[n,m])};slice=function slice(xs=null,min=null,max=null){return (()=>{ let sub;(min=__oak_js_default(min,0));(max=__oak_js_default(max,len(xs)));([min,max=null]=clamp(0,len(xs),min,max));sub=function sub(acc=null,i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null,i=null){return __oak_if(i,[[()=>(max),()=>(acc)],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,(()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})()),__as_oak_string(i+1)))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc,i) })()};return sub(_baseIterator(xs),min) })()};clone=function clone(x=null){return __oak_if(type(x),[[()=>(Symbol.for('string')),()=>(__as_oak_string(__Oak_String(``)+x))],[()=>(Symbol.for('list')),()=>(slice(x))],[()=>(Symbol.for('object')),()=>(reduce(keys(x),{},function _(acc=null,key=null){return (()=>{let __oak_assgn_trgt=__as_oak_string(acc);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign((key),(()=>{let __oak_acc_trgt=__as_oak_string(x);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(key)])||null:(__oak_acc_trgt[(key)]!==undefined?__oak_acc_trgt[(key)]:null)})()):((__oak_assgn_trgt[(key)])=(()=>{let __oak_acc_trgt=__as_oak_string(x);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(key)])||null:(__oak_acc_trgt[(key)]!==undefined?__oak_acc_trgt[(key)]:null)})());return __oak_assgn_trgt})()}))],[()=>(__Oak_Empty),()=>(x)]])};append=function append(xs=null,ys=null){return (()=>{ let xlen;(xlen=len(xs));each(ys,function _(y=null,i=null){return (()=>{let __oak_assgn_trgt=__as_oak_string(xs);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign((__as_oak_string(xlen+i)),y):((__oak_assgn_trgt[(__as_oak_string(xlen+i))])=y);return __oak_assgn_trgt})()});return xs })()};join=function join(xs=null,ys=null){return append(clone(xs),ys)};range=function range(start=null,end=null,step=null){return ((step=__oak_js_default(step,1)),__oak_if(end,[[()=>(null),()=>(([start,end=null]=[0,start]))]]),__oak_if(__oak_eq(step,0),[[()=>(true),()=>([])],[()=>(__Oak_Empty),()=>((()=>{ let list;let sub;(list=[]);__oak_if((step>0),[[()=>(true),()=>(sub=function sub(n=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(n=null){return __oak_if((n<end),[[()=>(true),()=>((__oak_push(list,n),__oak_trampoline(__oak_trampolined_sub,__as_oak_string(n+step))))],[()=>(__Oak_Empty),()=>(list)]])});return __oak_resolve_trampoline(__oak_trampolined_sub,n) })()})],[()=>(__Oak_Empty),()=>(sub=function sub(n=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(n=null){return __oak_if((n>end),[[()=>(true),()=>((__oak_push(list,n),__oak_trampoline(__oak_trampolined_sub,__as_oak_string(n+step))))],[()=>(__Oak_Empty),()=>(list)]])});return __oak_resolve_trampoline(__oak_trampolined_sub,n) })()})]]);return sub(start) })())]]))};reverse=function reverse(xs=null){return (()=>{ let sub;sub=function sub(acc=null,i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null,i=null){return __oak_if((i<0),[[()=>(true),()=>(acc)],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,(()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})()),(i-1)))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc,i) })()};return sub(_baseIterator(xs),(len(xs)-1)) })()};map=function map(xs=null,f=null){return (()=>{ let sub;sub=function sub(acc=null,i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null,i=null){return __oak_if(i,[[()=>(len(xs)),()=>(acc)],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,f((()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})(),i)),__as_oak_string(i+1)))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc,i) })()};return sub(_baseIterator(xs),0) })()};each=function each(xs=null,f=null){return (()=>{ let sub;sub=function sub(i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null){return __oak_if(i,[[()=>(len(xs)),()=>(null)],[()=>(__Oak_Empty),()=>((f((()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})(),i),__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1))))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i) })()};return sub(0) })()};filter=function filter(xs=null,f=null){return (()=>{ let sub;sub=function sub(acc=null,i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null,i=null){return __oak_if(i,[[()=>(len(xs)),()=>(acc)],[()=>(__Oak_Empty),()=>((()=>{ let x;__oak_if(f((x=(()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})()),i),[[()=>(true),()=>(__oak_push(acc,x))]]);return __oak_trampoline(__oak_trampolined_sub,acc,__as_oak_string(i+1)) })())]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc,i) })()};return sub(_baseIterator(xs),0) })()};reduce=function reduce(xs=null,seed=null,f=null){return (()=>{ let sub;sub=function sub(acc=null,i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null,i=null){return __oak_if(i,[[()=>(len(xs)),()=>(acc)],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,f(acc,(()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})(),i),__as_oak_string(i+1)))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc,i) })()};return sub(seed,0) })()};flatten=function flatten(xs=null){return reduce(xs,[],append)};some=function some(xs=null,pred=null){return ((pred=__oak_js_default(pred,identity)),reduce(xs,false,function _(acc=null,x=null){return __oak_or(acc,pred(x))}))};every=function every(xs=null,pred=null){return ((pred=__oak_js_default(pred,identity)),reduce(xs,true,function _(acc=null,x=null){return __oak_and(acc,pred(x))}))};zip=function zip(xs=null,ys=null,zipper=null){return (()=>{ let max;let sub;(zipper=__oak_js_default(zipper,function _(x=null,y=null){return [x,y]}));(max=__oak_if((len(xs)<len(ys)),[[()=>(true),()=>(len(xs))],[()=>(__Oak_Empty),()=>(len(ys))]]));sub=function sub(acc=null,i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null,i=null){return __oak_if(i,[[()=>(max),()=>(acc)],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,zipper((()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})(),(()=>{let __oak_acc_trgt=__as_oak_string(ys);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})())),__as_oak_string(i+1)))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc,i) })()};return sub([],0) })()};partition=function partition(xs=null,by=null){return __oak_if(type(by),[[()=>(Symbol.for('int')),()=>(reduce(xs,[],function _(acc=null,x=null,i=null){return __oak_if((i%by),[[()=>(0),()=>(__oak_push(acc,[x]))],[()=>(__Oak_Empty),()=>((__oak_push((()=>{let __oak_acc_trgt=__as_oak_string(acc);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[((len(acc)-1))])||null:(__oak_acc_trgt[((len(acc)-1))]!==undefined?__oak_acc_trgt[((len(acc)-1))]:null)})(),x),acc))]])}))],[()=>(Symbol.for('function')),()=>((()=>{ let last;(last=function _(){return null});return reduce(xs,[],function _(acc=null,x=null){return (()=>{ let __oak_js_this;__oak_if((__oak_js_this=by(x)),[[()=>(last),()=>(__oak_push((()=>{let __oak_acc_trgt=__as_oak_string(acc);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[((len(acc)-1))])||null:(__oak_acc_trgt[((len(acc)-1))]!==undefined?__oak_acc_trgt[((len(acc)-1))]:null)})(),x))],[()=>(__Oak_Empty),()=>(__oak_push(acc,[x]))]]);(last=__oak_js_this);return acc })()}) })())]])};uniq=function uniq(xs=null,pred=null){return (()=>{ let last;let sub;let ys;(pred=__oak_js_default(pred,identity));(ys=[]);(last=function _(){return null});sub=function sub(i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null){let p;let x;return __oak_if(i,[[()=>(len(xs)),()=>(ys)],[()=>(__Oak_Empty),()=>(__oak_if((p=pred((x=(()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})()))),[[()=>(last),()=>(__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1)))],[()=>(__Oak_Empty),()=>((__oak_push(ys,x),(last=p),__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1))))]]))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i) })()};return sub(0) })()};find=function find(xs=null,pred=null){return (()=>{ let sub;sub=function sub(i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null){return __oak_if(i,[[()=>(len(xs)),()=>(-1)],[()=>(__Oak_Empty),()=>(__oak_if(pred((()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})()),[[()=>(true),()=>(i)],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1)))]]))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i) })()};return sub(0) })()};indexOf=function indexOf(xs=null,x=null){return (()=>{ let sub;sub=function sub(i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null){return __oak_if(i,[[()=>(len(xs)),()=>(-1)],[()=>(__Oak_Empty),()=>(__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})(),[[()=>(x),()=>(i)],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1)))]]))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i) })()};return sub(0) })()};contains__oak_qm=function contains__oak_qm(xs=null,x=null){return (indexOf(xs,x)>-1)};values=function values(obj=null){return map(keys(obj),function _(key=null){return (()=>{let __oak_acc_trgt=__as_oak_string(obj);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(key)])||null:(__oak_acc_trgt[(key)]!==undefined?__oak_acc_trgt[(key)]:null)})()})};entries=function entries(obj=null){return map(keys(obj),function _(key=null){return [key,(()=>{let __oak_acc_trgt=__as_oak_string(obj);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(key)])||null:(__oak_acc_trgt[(key)]!==undefined?__oak_acc_trgt[(key)]:null)})()]})};merge=function merge(...os){return __oak_if(len(os),[[()=>(0),()=>(null)],[()=>(__Oak_Empty),()=>(reduce(os,(()=>{let __oak_acc_trgt=__as_oak_string(os);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[0])||null:(__oak_acc_trgt[0]!==undefined?__oak_acc_trgt[0]:null)})(),function _(acc=null,o=null){return (reduce(keys(o),acc,function _(root=null,k=null){return (()=>{let __oak_assgn_trgt=__as_oak_string(root);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign((k),(()=>{let __oak_acc_trgt=__as_oak_string(o);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(k)])||null:(__oak_acc_trgt[(k)]!==undefined?__oak_acc_trgt[(k)]:null)})()):((__oak_assgn_trgt[(k)])=(()=>{let __oak_acc_trgt=__as_oak_string(o);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(k)])||null:(__oak_acc_trgt[(k)]!==undefined?__oak_acc_trgt[(k)]:null)})());return __oak_assgn_trgt})()}))}))]])};once=function once(f=null){return (()=>{ let called__oak_qm;(called__oak_qm=false);return function _(...args){return __oak_if(true,[[()=>(called__oak_qm),()=>(null)],[()=>(__Oak_Empty),()=>(((called__oak_qm=true),f(...args)))]])} })()};loop=function loop(max=null,f=null){return (()=>{ let breaker;let broken;let sub;__oak_if(f,[[()=>(null),()=>(((f=max),(max=-1)))]]);(max=__oak_js_default(max,-1));(broken=false);breaker=function breaker(){return (broken=true)};sub=function sub(count=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(count=null){return __oak_if(count,[[()=>(max),()=>(null)],[()=>(__Oak_Empty),()=>(__oak_if(broken,[[()=>(true),()=>(null)],[()=>(__Oak_Empty),()=>((f(count,breaker),__oak_trampoline(__oak_trampolined_sub,__as_oak_string(count+1))))]]))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,count) })()};return sub(0) })()};debounce=function debounce(duration=null,firstCall=null,f=null){return (()=>{ let dargs;let debounced;let target;let waiting__oak_qm;__oak_if(f,[[()=>(null),()=>(([firstCall,f=null]=[Symbol.for('trailing'),firstCall]))]]);(dargs=null);(waiting__oak_qm=false);(target=(time()-duration));return debounced=function debounced(...args){return (()=>{ let tcall;(tcall=time());(dargs=args);return __oak_if(waiting__oak_qm,[[()=>(false),()=>(__oak_if((target<=tcall),[[()=>(true),()=>(((target=__as_oak_string(tcall+duration)),__oak_if(firstCall,[[()=>(Symbol.for('leading')),()=>(f(...dargs))],[()=>(Symbol.for('trailing')),()=>(((waiting__oak_qm=true),wait((target-time()),function _(){return ((waiting__oak_qm=false),f(...dargs))})))]])))],[()=>(__Oak_Empty),()=>((()=>{ let timeout;(waiting__oak_qm=true);(timeout=(target-tcall));(target=__as_oak_string(target+duration));return wait(timeout,function _(){return ((waiting__oak_qm=false),f(...dargs))}) })())]]))]]) })()} })()};println=function println(...xs){return __oak_if(len(xs),[[()=>(0),()=>(print(__Oak_String(`
`)))],[()=>(__Oak_Empty),()=>((()=>{ let out;(out=reduce(slice(xs,1),string((()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[0])||null:(__oak_acc_trgt[0]!==undefined?__oak_acc_trgt[0]:null)})()),function _(acc=null,x=null){return (__as_oak_string(__as_oak_string(acc+__Oak_String(` `))+string(x)))}));return print(__as_oak_string(out+__Oak_String(`
`))) })())]])};(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_baseIterator,_baseIterator):((__oak_assgn_trgt._baseIterator)=_baseIterator);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_hToN,_hToN):((__oak_assgn_trgt._hToN)=_hToN);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_nToH,_nToH):((__oak_assgn_trgt._nToH)=_nToH);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(append,append):((__oak_assgn_trgt.append)=append);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(clamp,clamp):((__oak_assgn_trgt.clamp)=clamp);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(clone,clone):((__oak_assgn_trgt.clone)=clone);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(contains__oak_qm,contains__oak_qm):((__oak_assgn_trgt.contains__oak_qm)=contains__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(debounce,debounce):((__oak_assgn_trgt.debounce)=debounce);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(__oak_js_default,__oak_js_default):((__oak_assgn_trgt.__oak_js_default)=__oak_js_default);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(each,each):((__oak_assgn_trgt.each)=each);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(entries,entries):((__oak_assgn_trgt.entries)=entries);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(every,every):((__oak_assgn_trgt.every)=every);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(filter,filter):((__oak_assgn_trgt.filter)=filter);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(find,find):((__oak_assgn_trgt.find)=find);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(flatten,flatten):((__oak_assgn_trgt.flatten)=flatten);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(fromHex,fromHex):((__oak_assgn_trgt.fromHex)=fromHex);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(identity,identity):((__oak_assgn_trgt.identity)=identity);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(indexOf,indexOf):((__oak_assgn_trgt.indexOf)=indexOf);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(join,join):((__oak_assgn_trgt.join)=join);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(loop,loop):((__oak_assgn_trgt.loop)=loop);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(map,map):((__oak_assgn_trgt.map)=map);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(merge,merge):((__oak_assgn_trgt.merge)=merge);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(once,once):((__oak_assgn_trgt.once)=once);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(partition,partition):((__oak_assgn_trgt.partition)=partition);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(println,println):((__oak_assgn_trgt.println)=println);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(range,range):((__oak_assgn_trgt.range)=range);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(reduce,reduce):((__oak_assgn_trgt.reduce)=reduce);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(reverse,reverse):((__oak_assgn_trgt.reverse)=reverse);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(slice,slice):((__oak_assgn_trgt.slice)=slice);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(some,some):((__oak_assgn_trgt.some)=some);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(toHex,toHex):((__oak_assgn_trgt.toHex)=toHex);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(uniq,uniq):((__oak_assgn_trgt.uniq)=uniq);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(values,values):((__oak_assgn_trgt.values)=values);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(zip,zip):((__oak_assgn_trgt.zip)=zip);return __oak_assgn_trgt})();return __module })()}),__oak_modularize(__Oak_String(`str`),function _(){return (()=>{ let __module;let _extend;let _matchesAt__oak_qm;let _replaceNonEmpty;let _splitNonEmpty;let _trimEndNonEmpty;let _trimSpace;let _trimStartNonEmpty;let checkRange;let contains__oak_qm;let __oak_js_default;let digit__oak_qm;let endsWith__oak_qm;let indexOf;let join;let letter__oak_qm;let lower;let lower__oak_qm;let map;let padEnd;let padStart;let reduce;let replace;let slice;let space__oak_qm;let split;let startsWith__oak_qm;let trim;let trimEnd;let trimStart;let upper;let upper__oak_qm;let word__oak_qm;(__module={});({__oak_js_default:__oak_js_default=null,map:map=null,slice:slice=null,reduce:reduce=null}=__oak_module_import(__Oak_String(`std`)));checkRange=function checkRange(lo=null,hi=null){let checker;return checker=function checker(c=null){return (()=>{ let p;(p=codepoint(c));return __oak_and((lo<=p),(p<=hi)) })()}};(upper__oak_qm=checkRange(codepoint(__Oak_String(`A`)),codepoint(__Oak_String(`Z`))));(lower__oak_qm=checkRange(codepoint(__Oak_String(`a`)),codepoint(__Oak_String(`z`))));(digit__oak_qm=checkRange(codepoint(__Oak_String(`0`)),codepoint(__Oak_String(`9`))));(space__oak_qm=function _(c=null){return __oak_if(c,[[()=>(__Oak_String(` `)),()=>(true)],[()=>(__Oak_String(`	`)),()=>(true)],[()=>(__Oak_String(`
`)),()=>(true)],[()=>(__Oak_String(``)),()=>(true)],[()=>(__Oak_String(``)),()=>(true)],[()=>(__Oak_Empty),()=>(false)]])});letter__oak_qm=function letter__oak_qm(c=null){return __oak_or(upper__oak_qm(c),lower__oak_qm(c))};word__oak_qm=function word__oak_qm(c=null){return __oak_or(letter__oak_qm(c),digit__oak_qm(c))};join=function join(strings=null,joiner=null){return ((joiner=__oak_js_default(joiner,__Oak_String(``))),__oak_if(len(strings),[[()=>(0),()=>(__Oak_String(``))],[()=>(__Oak_Empty),()=>(reduce(slice(strings,1),(()=>{let __oak_acc_trgt=__as_oak_string(strings);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[0])||null:(__oak_acc_trgt[0]!==undefined?__oak_acc_trgt[0]:null)})(),function _(a=null,b=null){return __as_oak_string(__as_oak_string(a+joiner)+b)}))]]))};startsWith__oak_qm=function startsWith__oak_qm(s=null,prefix=null){return reduce(prefix,true,function _(acc=null,c=null,i=null){return (__oak_and(acc,(__oak_eq((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})(),c))))})};endsWith__oak_qm=function endsWith__oak_qm(s=null,suffix=null){return (()=>{ let diff;(diff=(len(s)-len(suffix)));return reduce(suffix,true,function _(acc=null,c=null,i=null){return (__oak_and(acc,(__oak_eq((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(__as_oak_string(i+diff))])||null:(__oak_acc_trgt[(__as_oak_string(i+diff))]!==undefined?__oak_acc_trgt[(__as_oak_string(i+diff))]:null)})(),c))))}) })()};_matchesAt__oak_qm=function _matchesAt__oak_qm(s=null,substr=null,idx=null){return __oak_if(len(substr),[[()=>(0),()=>(true)],[()=>(1),()=>(__oak_eq((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(idx)])||null:(__oak_acc_trgt[(idx)]!==undefined?__oak_acc_trgt[(idx)]:null)})(),substr))],[()=>(__Oak_Empty),()=>((()=>{ let max;let sub;(max=len(substr));sub=function sub(i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null){return __oak_if(i,[[()=>(max),()=>(true)],[()=>(__Oak_Empty),()=>(__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(__as_oak_string(idx+i))])||null:(__oak_acc_trgt[(__as_oak_string(idx+i))]!==undefined?__oak_acc_trgt[(__as_oak_string(idx+i))]:null)})(),[[()=>((()=>{let __oak_acc_trgt=__as_oak_string(substr);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})()),()=>(__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1)))],[()=>(__Oak_Empty),()=>(false)]]))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i) })()};return sub(0) })())]])};indexOf=function indexOf(s=null,substr=null){return (()=>{ let max;let sub;(max=(len(s)-len(substr)));sub=function sub(i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null){return __oak_if(_matchesAt__oak_qm(s,substr,i),[[()=>(true),()=>(i)],[()=>(__Oak_Empty),()=>(__oak_if((i<max),[[()=>(true),()=>(__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1)))],[()=>(__Oak_Empty),()=>(-1)]]))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i) })()};return sub(0) })()};contains__oak_qm=function contains__oak_qm(s=null,substr=null){return (indexOf(s,substr)>=0)};lower=function lower(s=null){return reduce(s,__Oak_String(``),function _(acc=null,c=null,i=null){return __oak_if(upper__oak_qm(c),[[()=>(true),()=>((()=>{let __oak_assgn_trgt=__as_oak_string(acc);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign((i),char(__as_oak_string(codepoint(c)+32))):((__oak_assgn_trgt[(i)])=char(__as_oak_string(codepoint(c)+32)));return __oak_assgn_trgt})())],[()=>(__Oak_Empty),()=>((()=>{let __oak_assgn_trgt=__as_oak_string(acc);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign((i),c):((__oak_assgn_trgt[(i)])=c);return __oak_assgn_trgt})())]])})};upper=function upper(s=null){return reduce(s,__Oak_String(``),function _(acc=null,c=null,i=null){return __oak_if(lower__oak_qm(c),[[()=>(true),()=>((()=>{let __oak_assgn_trgt=__as_oak_string(acc);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign((i),char((codepoint(c)-32))):((__oak_assgn_trgt[(i)])=char((codepoint(c)-32)));return __oak_assgn_trgt})())],[()=>(__Oak_Empty),()=>((()=>{let __oak_assgn_trgt=__as_oak_string(acc);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign((i),c):((__oak_assgn_trgt[(i)])=c);return __oak_assgn_trgt})())]])})};_replaceNonEmpty=function _replaceNonEmpty(s=null,old=null,__oak_js_new=null){return (()=>{ let lnew;let lold;let sub;(lold=len(old));(lnew=len(__oak_js_new));sub=function sub(acc=null,i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null,i=null){return __oak_if(_matchesAt__oak_qm(acc,old,i),[[()=>(true),()=>(__oak_trampoline(__oak_trampolined_sub,__as_oak_string(__as_oak_string(slice(acc,0,i)+__oak_js_new)+slice(acc,__as_oak_string(i+lold))),__as_oak_string(i+lnew)))],[()=>(__Oak_Empty),()=>(__oak_if((i<len(acc)),[[()=>(true),()=>(__oak_trampoline(__oak_trampolined_sub,acc,__as_oak_string(i+1)))],[()=>(__Oak_Empty),()=>(acc)]]))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc,i) })()};return sub(s,0) })()};replace=function replace(s=null,old=null,__oak_js_new=null){return __oak_if(old,[[()=>(__Oak_String(``)),()=>(s)],[()=>(__Oak_Empty),()=>(_replaceNonEmpty(s,old,__oak_js_new))]])};_splitNonEmpty=function _splitNonEmpty(s=null,delim=null){return (()=>{ let coll;let ldelim;let sub;(coll=[]);(ldelim=len(delim));sub=function sub(acc=null,i=null,last=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null,i=null,last=null){return __oak_if(_matchesAt__oak_qm(acc,delim,i),[[()=>(true),()=>((__oak_push(coll,slice(acc,last,i)),__oak_trampoline(__oak_trampolined_sub,acc,__as_oak_string(i+ldelim),__as_oak_string(i+ldelim))))],[()=>(__Oak_Empty),()=>(__oak_if((i<len(acc)),[[()=>(true),()=>(__oak_trampoline(__oak_trampolined_sub,acc,__as_oak_string(i+1),last))],[()=>(__Oak_Empty),()=>(__oak_push(coll,slice(acc,last)))]]))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc,i,last) })()};return sub(s,0,0) })()};split=function split(s=null,delim=null){return __oak_if(delim,[[()=>(null),()=>(reduce(s,[],function _(acc=null,c=null){return __oak_push(acc,c)}))],[()=>(__Oak_String(``)),()=>(reduce(s,[],function _(acc=null,c=null){return __oak_push(acc,c)}))],[()=>(__Oak_Empty),()=>(_splitNonEmpty(s,delim))]])};_extend=function _extend(pad=null,n=null){return (()=>{ let part;let sub;let times;(times=int((n/len(pad))));(part=(n%len(pad)));sub=function sub(base=null,i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(base=null,i=null){return __oak_if(i,[[()=>(0),()=>(__oak_push(base,slice(pad,0,part)))],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(base,pad),(i-1)))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,base,i) })()};return sub(__Oak_String(``),times) })()};padStart=function padStart(s=null,n=null,pad=null){return __oak_if((len(s)>=n),[[()=>(true),()=>(s)],[()=>(__Oak_Empty),()=>(__oak_push(_extend(pad,(n-len(s))),s))]])};padEnd=function padEnd(s=null,n=null,pad=null){return __oak_if((len(s)>=n),[[()=>(true),()=>(s)],[()=>(__Oak_Empty),()=>(__as_oak_string(s+_extend(pad,(n-len(s)))))]])};_trimStartNonEmpty=function _trimStartNonEmpty(s=null,prefix=null){return (()=>{ let idx;let lpref;let max;let sub;(max=len(s));(lpref=len(prefix));sub=function sub(i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null){return __oak_if((i<max),[[()=>(true),()=>(__oak_if(_matchesAt__oak_qm(s,prefix,i),[[()=>(true),()=>(__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+lpref)))],[()=>(__Oak_Empty),()=>(i)]]))],[()=>(__Oak_Empty),()=>(i)]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i) })()};(idx=sub(0));return slice(s,idx) })()};trimStart=function trimStart(s=null,prefix=null){return __oak_if(prefix,[[()=>(__Oak_String(``)),()=>(s)],[()=>(__Oak_Empty),()=>(_trimStartNonEmpty(s,prefix))]])};_trimEndNonEmpty=function _trimEndNonEmpty(s=null,suffix=null){return (()=>{ let idx;let lsuf;let sub;(lsuf=len(suffix));sub=function sub(i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null){return __oak_if((i>-1),[[()=>(true),()=>(__oak_if(_matchesAt__oak_qm(s,suffix,(i-lsuf)),[[()=>(true),()=>(__oak_trampoline(__oak_trampolined_sub,(i-lsuf)))],[()=>(__Oak_Empty),()=>(i)]]))],[()=>(__Oak_Empty),()=>(i)]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i) })()};(idx=sub(len(s)));return slice(s,0,idx) })()};trimEnd=function trimEnd(s=null,suffix=null){return __oak_if(suffix,[[()=>(__Oak_String(``)),()=>(s)],[()=>(__Oak_Empty),()=>(_trimEndNonEmpty(s,suffix))]])};_trimSpace=function _trimSpace(s=null){return __oak_if(s,[[()=>(__Oak_String(``)),()=>(s)],[()=>(__Oak_Empty),()=>((()=>{ let firstNonSpace;let lastNonSpace;let subEnd;let subStart;subStart=function subStart(i=null){return (()=>{ let __oak_trampolined_subStart;(__oak_trampolined_subStart=function _(i=null){return __oak_if(space__oak_qm((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})()),[[()=>(true),()=>(__oak_trampoline(__oak_trampolined_subStart,__as_oak_string(i+1)))],[()=>(__Oak_Empty),()=>(i)]])});return __oak_resolve_trampoline(__oak_trampolined_subStart,i) })()};(firstNonSpace=subStart(0));subEnd=function subEnd(i=null){return (()=>{ let __oak_trampolined_subEnd;(__oak_trampolined_subEnd=function _(i=null){return __oak_if(space__oak_qm((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})()),[[()=>(true),()=>(__oak_trampoline(__oak_trampolined_subEnd,(i-1)))],[()=>(__Oak_Empty),()=>(i)]])});return __oak_resolve_trampoline(__oak_trampolined_subEnd,i) })()};(lastNonSpace=subEnd((len(s)-1)));return slice(s,firstNonSpace,__as_oak_string(lastNonSpace+1)) })())]])};trim=function trim(s=null,part=null){return __oak_if(part,[[()=>(null),()=>(_trimSpace(s))],[()=>(__Oak_Empty),()=>(trimStart(trimEnd(s,part),part))]])};(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_extend,_extend):((__oak_assgn_trgt._extend)=_extend);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_matchesAt__oak_qm,_matchesAt__oak_qm):((__oak_assgn_trgt._matchesAt__oak_qm)=_matchesAt__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_replaceNonEmpty,_replaceNonEmpty):((__oak_assgn_trgt._replaceNonEmpty)=_replaceNonEmpty);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_splitNonEmpty,_splitNonEmpty):((__oak_assgn_trgt._splitNonEmpty)=_splitNonEmpty);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_trimEndNonEmpty,_trimEndNonEmpty):((__oak_assgn_trgt._trimEndNonEmpty)=_trimEndNonEmpty);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_trimSpace,_trimSpace):((__oak_assgn_trgt._trimSpace)=_trimSpace);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_trimStartNonEmpty,_trimStartNonEmpty):((__oak_assgn_trgt._trimStartNonEmpty)=_trimStartNonEmpty);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(checkRange,checkRange):((__oak_assgn_trgt.checkRange)=checkRange);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(contains__oak_qm,contains__oak_qm):((__oak_assgn_trgt.contains__oak_qm)=contains__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(__oak_js_default,__oak_js_default):((__oak_assgn_trgt.__oak_js_default)=__oak_js_default);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(digit__oak_qm,digit__oak_qm):((__oak_assgn_trgt.digit__oak_qm)=digit__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(endsWith__oak_qm,endsWith__oak_qm):((__oak_assgn_trgt.endsWith__oak_qm)=endsWith__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(indexOf,indexOf):((__oak_assgn_trgt.indexOf)=indexOf);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(join,join):((__oak_assgn_trgt.join)=join);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(letter__oak_qm,letter__oak_qm):((__oak_assgn_trgt.letter__oak_qm)=letter__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(lower,lower):((__oak_assgn_trgt.lower)=lower);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(lower__oak_qm,lower__oak_qm):((__oak_assgn_trgt.lower__oak_qm)=lower__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(map,map):((__oak_assgn_trgt.map)=map);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(padEnd,padEnd):((__oak_assgn_trgt.padEnd)=padEnd);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(padStart,padStart):((__oak_assgn_trgt.padStart)=padStart);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(reduce,reduce):((__oak_assgn_trgt.reduce)=reduce);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(replace,replace):((__oak_assgn_trgt.replace)=replace);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(slice,slice):((__oak_assgn_trgt.slice)=slice);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(space__oak_qm,space__oak_qm):((__oak_assgn_trgt.space__oak_qm)=space__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(split,split):((__oak_assgn_trgt.split)=split);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(startsWith__oak_qm,startsWith__oak_qm):((__oak_assgn_trgt.startsWith__oak_qm)=startsWith__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(trim,trim):((__oak_assgn_trgt.trim)=trim);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(trimEnd,trimEnd):((__oak_assgn_trgt.trimEnd)=trimEnd);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(trimStart,trimStart):((__oak_assgn_trgt.trimStart)=trimStart);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(upper,upper):((__oak_assgn_trgt.upper)=upper);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(upper__oak_qm,upper__oak_qm):((__oak_assgn_trgt.upper__oak_qm)=upper__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(word__oak_qm,word__oak_qm):((__oak_assgn_trgt.word__oak_qm)=word__oak_qm);return __oak_assgn_trgt})();return __module })()}),__oak_modularize(__Oak_String(`syntax`),function _(){return (()=>{ let Parser;let Printer;let Tokenizer;let __module;let append;let contains__oak_qm;let __oak_js_default;let digit__oak_qm;let each;let filter;let format;let fromHex;let join;let map;let max;let min;let parse;let print;let printf;let range;let reduce;let renderPos;let renderToken;let replace;let shebang__oak_qm;let slice;let space__oak_qm;let startsWith__oak_qm;let strContains__oak_qm;let tokenize;let trim;let trimEnd;let trimStart;let word__oak_qm;(__module={});({__oak_js_default:__oak_js_default=null,fromHex:fromHex=null,range:range=null,slice:slice=null,append:append=null,contains__oak_qm:contains__oak_qm=null,map:map=null,each:each=null,filter:filter=null,reduce:reduce=null}=__oak_module_import(__Oak_String(`std`)));({digit__oak_qm:digit__oak_qm=null,word__oak_qm:word__oak_qm=null,space__oak_qm:space__oak_qm=null,contains__oak_qm:strContains__oak_qm=null,join:join=null,replace:replace=null,startsWith__oak_qm:startsWith__oak_qm=null,trimStart:trimStart=null,trimEnd:trimEnd=null,trim:trim=null}=__oak_module_import(__Oak_String(`str`)));({min:min=null,max:max=null}=__oak_module_import(__Oak_String(`math`)));({format:format=null,printf:printf=null}=__oak_module_import(__Oak_String(`fmt`)));shebang__oak_qm=function shebang__oak_qm(text=null){return startsWith__oak_qm(text,__Oak_String(`#!`))};renderPos=function renderPos(pos=null){return __as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__Oak_String(`[`)+string((()=>{let __oak_acc_trgt=__as_oak_string(pos);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[0])||null:(__oak_acc_trgt[0]!==undefined?__oak_acc_trgt[0]:null)})()))+__Oak_String(`:`))+string((()=>{let __oak_acc_trgt=__as_oak_string(pos);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[1])||null:(__oak_acc_trgt[1]!==undefined?__oak_acc_trgt[1]:null)})()))+__Oak_String(`]`))};renderToken=function renderToken(token=null){return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(token);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})(),[[()=>(null),()=>(format(__Oak_String(`{{ 0 }} {{ 1 }}`),string((()=>{let __oak_acc_trgt=__as_oak_string(token);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})()),renderPos((()=>{let __oak_acc_trgt=__as_oak_string(token);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})())))],[()=>(__Oak_Empty),()=>(format(__Oak_String(`{{ 0 }}({{ 1 }}) {{ 2 }}`),string((()=>{let __oak_acc_trgt=__as_oak_string(token);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})()),(()=>{let __oak_acc_trgt=__as_oak_string(token);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})(),renderPos((()=>{let __oak_acc_trgt=__as_oak_string(token);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})())))]])};Tokenizer=function Tokenizer(source=null){return (()=>{ let Token;let TokenAt;let back;let col;let eof__oak_qm;let index;let line;let next;let nextToken;let peek;let peekAhead;let pos;let readUntilChar;let readValidIdentifier;let readValidNumeral;let tokenize;(index=0);(line=1);(col=0);TokenAt=function TokenAt(type=null,pos=null,val=null){return {type:type,val:val,pos:pos}};Token=function Token(type=null,val=null){return TokenAt(type,[line,col],val)};pos=function pos(){return [line,col]};eof__oak_qm=function eof__oak_qm(){return __oak_eq(index,len(source))};peek=function peek(){return (()=>{let __oak_acc_trgt=__as_oak_string(source);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(index)])||null:(__oak_acc_trgt[(index)]!==undefined?__oak_acc_trgt[(index)]:null)})()};peekAhead=function peekAhead(n=null){return __oak_if((__as_oak_string(index+n)>=len(source)),[[()=>(true),()=>(__Oak_String(` `))],[()=>(__Oak_Empty),()=>((()=>{let __oak_acc_trgt=__as_oak_string(source);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(__as_oak_string(index+n))])||null:(__oak_acc_trgt[(__as_oak_string(index+n))]!==undefined?__oak_acc_trgt[(__as_oak_string(index+n))]:null)})())]])};next=function next(){return (()=>{ let char;(char=(()=>{let __oak_acc_trgt=__as_oak_string(source);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(index)])||null:(__oak_acc_trgt[(index)]!==undefined?__oak_acc_trgt[(index)]:null)})());__oak_if((index<len(source)),[[()=>(true),()=>((index=__as_oak_string(index+1)))]]);__oak_if(char,[[()=>(__Oak_String(`
`)),()=>(((line=__as_oak_string(line+1)),(col=0)))],[()=>(__Oak_Empty),()=>((col=__as_oak_string(col+1)))]]);return char })()};back=function back(){return (__oak_if((index>0),[[()=>(true),()=>((index=(index-1)))]]),__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(source);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(index)])||null:(__oak_acc_trgt[(index)]!==undefined?__oak_acc_trgt[(index)]:null)})(),[[()=>(__Oak_String(`
`)),()=>((line=(line-1)))],[()=>(__Oak_Empty),()=>((col=(col-1)))]]))};readUntilChar=function readUntilChar(c=null){return (()=>{ let sub;sub=function sub(acc=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null){return __oak_if(__oak_and(!eof__oak_qm(),!__oak_eq(peek(),c)),[[()=>(true),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())))],[()=>(__Oak_Empty),()=>(acc)]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc) })()};return sub(__Oak_String(``)) })()};readValidIdentifier=function readValidIdentifier(){return (()=>{ let sub;sub=function sub(acc=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null){return __oak_if(eof__oak_qm(),[[()=>(true),()=>(acc)],[()=>(__Oak_Empty),()=>((()=>{ let c;(c=next());return __oak_if(__oak_or(__oak_or(__oak_or(word__oak_qm(c),__oak_eq(c,__Oak_String(`_`))),__oak_eq(c,__Oak_String(`?`))),__oak_eq(c,__Oak_String(`!`))),[[()=>(true),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,c)))],[()=>(__Oak_Empty),()=>((back(),acc))]]) })())]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc) })()};return sub(__Oak_String(``)) })()};readValidNumeral=function readValidNumeral(){return (()=>{ let sawDot__oak_qm;let sub;(sawDot__oak_qm=false);sub=function sub(acc=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null){return __oak_if(eof__oak_qm(),[[()=>(true),()=>(acc)],[()=>(__Oak_Empty),()=>((()=>{ let c;(c=next());return __oak_if(true,[[()=>(digit__oak_qm(c)),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,c)))],[()=>(__oak_and(__oak_eq(c,__Oak_String(`.`)),!sawDot__oak_qm)),()=>(((sawDot__oak_qm=true),__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,c))))],[()=>(__Oak_Empty),()=>((back(),acc))]]) })())]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc) })()};return sub(__Oak_String(``)) })()};nextToken=function nextToken(){let c;return __oak_if((c=next()),[[()=>(__Oak_String(`,`)),()=>(Token(Symbol.for('comma')))],[()=>(__Oak_String(`.`)),()=>(__oak_if(__oak_and(__oak_eq(peek(),__Oak_String(`.`)),__oak_eq(peekAhead(1),__Oak_String(`.`))),[[()=>(true),()=>((()=>{ let pos;(pos=[line,col]);next();next();return TokenAt(Symbol.for('ellipsis'),pos) })())],[()=>(__Oak_Empty),()=>(Token(Symbol.for('dot')))]]))],[()=>(__Oak_String(`(`)),()=>(Token(Symbol.for('leftParen')))],[()=>(__Oak_String(`)`)),()=>(Token(Symbol.for('rightParen')))],[()=>(__Oak_String(`[`)),()=>(Token(Symbol.for('leftBracket')))],[()=>(__Oak_String(`]`)),()=>(Token(Symbol.for('rightBracket')))],[()=>(__Oak_String(`{`)),()=>(Token(Symbol.for('leftBrace')))],[()=>(__Oak_String(`}`)),()=>(Token(Symbol.for('rightBrace')))],[()=>(__Oak_String(`:`)),()=>(__oak_if(peek(),[[()=>(__Oak_String(`=`)),()=>((()=>{ let pos;(pos=[line,col]);next();return TokenAt(Symbol.for('assign'),pos) })())],[()=>(__Oak_Empty),()=>(Token(Symbol.for('colon')))]]))],[()=>(__Oak_String(`<`)),()=>(__oak_if(peek(),[[()=>(__Oak_String(`<`)),()=>((()=>{ let pos;(pos=[line,col]);next();return TokenAt(Symbol.for('pushArrow'),pos) })())],[()=>(__Oak_String(`-`)),()=>((()=>{ let pos;(pos=[line,col]);next();return TokenAt(Symbol.for('nonlocalAssign'),pos) })())],[()=>(__Oak_String(`=`)),()=>((()=>{ let pos;(pos=[line,col]);next();return TokenAt(Symbol.for('leq'),pos) })())],[()=>(__Oak_Empty),()=>(Token(Symbol.for('less')))]]))],[()=>(__Oak_String(`?`)),()=>(Token(Symbol.for('qmark')))],[()=>(__Oak_String(`!`)),()=>(__oak_if(peek(),[[()=>(__Oak_String(`=`)),()=>((()=>{ let pos;(pos=[line,col]);next();return TokenAt(Symbol.for('neq'),pos) })())],[()=>(__Oak_Empty),()=>(Token(Symbol.for('exclam')))]]))],[()=>(__Oak_String(`+`)),()=>(Token(Symbol.for('plus')))],[()=>(__Oak_String(`-`)),()=>(__oak_if(peek(),[[()=>(__Oak_String(`>`)),()=>((()=>{ let pos;(pos=[line,col]);next();return TokenAt(Symbol.for('branchArrow'),pos) })())],[()=>(__Oak_Empty),()=>(Token(Symbol.for('minus')))]]))],[()=>(__Oak_String(`*`)),()=>(Token(Symbol.for('times')))],[()=>(__Oak_String(`/`)),()=>(__oak_if(peek(),[[()=>(__Oak_String(`/`)),()=>((()=>{ let commentString;let pos;(pos=[line,col]);next();(commentString=trimEnd(trimEnd(readUntilChar(__Oak_String(`
`)),__Oak_String(` `)),__Oak_String(`	`)));__oak_if(__oak_eq(trim(commentString),__Oak_String(``)),[[()=>(true),()=>((commentString=__Oak_String(``)))]]);return TokenAt(Symbol.for('comment'),pos,commentString) })())],[()=>(__Oak_Empty),()=>(Token(Symbol.for('divide')))]]))],[()=>(__Oak_String(`%`)),()=>(Token(Symbol.for('modulus')))],[()=>(__Oak_String(`^`)),()=>(Token(Symbol.for('xor')))],[()=>(__Oak_String(`&`)),()=>(Token(Symbol.for('and')))],[()=>(__Oak_String(`|`)),()=>(__oak_if(peek(),[[()=>(__Oak_String(`>`)),()=>((()=>{ let pos;(pos=[line,col]);next();return TokenAt(Symbol.for('pipeArrow'),pos) })())],[()=>(__Oak_Empty),()=>(Token(Symbol.for('or')))]]))],[()=>(__Oak_String(`>`)),()=>(__oak_if(peek(),[[()=>(__Oak_String(`=`)),()=>((()=>{ let pos;(pos=[line,col]);next();return TokenAt(Symbol.for('geq'),pos) })())],[()=>(__Oak_Empty),()=>(Token(Symbol.for('greater')))]]))],[()=>(__Oak_String(`=`)),()=>(Token(Symbol.for('eq')))],[()=>(__Oak_String(`'`)),()=>((()=>{ let pos;let stringContent;let sub;(pos=[line,col]);sub=function sub(payload=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(payload=null){let charInString;return __oak_if((charInString=next()),[[()=>(null),()=>(payload)],[()=>(__Oak_String(`'`)),()=>(payload)],[()=>(__Oak_String(`\\`)),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(__oak_push(payload,__Oak_String(`\\`)),next())))],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(payload,charInString)))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,payload) })()};(stringContent=sub(__Oak_String(``)));return TokenAt(Symbol.for('stringLiteral'),pos,stringContent) })())],[()=>(__Oak_Empty),()=>((()=>{ let payload;let pos;(pos=[line,col]);return __oak_if(digit__oak_qm(c),[[()=>(true),()=>((()=>{ let numberContent;(numberContent=__oak_push(c,readValidNumeral()));return TokenAt(Symbol.for('numberLiteral'),pos,numberContent) })())],[()=>(__Oak_Empty),()=>(__oak_if((payload=__oak_push(c,readValidIdentifier())),[[()=>(__Oak_String(`_`)),()=>(TokenAt(Symbol.for('underscore'),pos))],[()=>(__Oak_String(`if`)),()=>(TokenAt(Symbol.for('ifKeyword'),pos))],[()=>(__Oak_String(`fn`)),()=>(TokenAt(Symbol.for('fnKeyword'),pos))],[()=>(__Oak_String(`with`)),()=>(TokenAt(Symbol.for('withKeyword'),pos))],[()=>(__Oak_String(`true`)),()=>(TokenAt(Symbol.for('trueLiteral'),pos))],[()=>(__Oak_String(`false`)),()=>(TokenAt(Symbol.for('falseLiteral'),pos))],[()=>(__Oak_Empty),()=>(TokenAt(Symbol.for('identifier'),pos,payload))]]))]]) })())]])};tokenize=function tokenize(){return (()=>{ let eatSpace;let lastTok;let sub;let tokens;(tokens=[]);__oak_if(__oak_and(__oak_eq(peek(),__Oak_String(`#`)),__oak_eq(peekAhead(1),__Oak_String(`!`))),[[()=>(true),()=>((readUntilChar(__Oak_String(`
`)),__oak_if(!eof__oak_qm(),[[()=>(true),()=>(next())]])))]]);eatSpace=function eatSpace(){return (()=>{ let __oak_trampolined_eatSpace;(__oak_trampolined_eatSpace=function _(){let sp;return __oak_if(space__oak_qm((sp=peek())),[[()=>(true),()=>((__oak_if(sp,[[()=>(__Oak_String(`
`)),()=>(__oak_push(tokens,Token(Symbol.for('newline'))))]]),next(),__oak_trampoline(__oak_trampolined_eatSpace)))]])});return __oak_resolve_trampoline(__oak_trampolined_eatSpace) })()};eatSpace();(lastTok=Token(Symbol.for('comma')));sub=function sub(){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(){return (()=>{ let eatSpaceAutoInsertComma;let nextTok;(nextTok=nextToken());__oak_if(__oak_and(!(contains__oak_qm([Symbol.for('leftParen'),Symbol.for('leftBracket'),Symbol.for('leftBrace'),Symbol.for('comma')],(()=>{let __oak_acc_trgt=__as_oak_string(lastTok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})())),contains__oak_qm([Symbol.for('rightParen'),Symbol.for('rightBracket'),Symbol.for('rightBrace')],(()=>{let __oak_acc_trgt=__as_oak_string(nextTok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})())),[[()=>(true),()=>(__oak_push(tokens,Token(Symbol.for('comma'))))]]);__oak_push(tokens,nextTok);__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(nextTok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('comment')),()=>((nextTok=lastTok))]]);eatSpaceAutoInsertComma=function eatSpaceAutoInsertComma(){return (()=>{ let __oak_trampolined_eatSpaceAutoInsertComma;(__oak_trampolined_eatSpaceAutoInsertComma=function _(){return __oak_if(space__oak_qm(peek()),[[()=>(true),()=>((__oak_if(peek(),[[()=>(__Oak_String(`
`)),()=>((__oak_if(contains__oak_qm([Symbol.for('comma'),Symbol.for('leftParen'),Symbol.for('leftBracket'),Symbol.for('leftBrace'),Symbol.for('plus'),Symbol.for('minus'),Symbol.for('times'),Symbol.for('divide'),Symbol.for('modulus'),Symbol.for('xor'),Symbol.for('and'),Symbol.for('or'),Symbol.for('exclam'),Symbol.for('greater'),Symbol.for('less'),Symbol.for('eq'),Symbol.for('geq'),Symbol.for('leq'),Symbol.for('assign'),Symbol.for('nonlocalAssign'),Symbol.for('dot'),Symbol.for('colon'),Symbol.for('fnKeyword'),Symbol.for('ifKeyword'),Symbol.for('withKeyword'),Symbol.for('pipeArrow'),Symbol.for('branchArrow'),Symbol.for('pushArrow')],(()=>{let __oak_acc_trgt=__as_oak_string(nextTok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})()),[[()=>(true),()=>(null)],[()=>(__Oak_Empty),()=>(((nextTok=Token(Symbol.for('comma'))),__oak_push(tokens,nextTok)))]]),__oak_push(tokens,Token(Symbol.for('newline')))))]]),next(),__oak_trampoline(__oak_trampolined_eatSpaceAutoInsertComma)))]])});return __oak_resolve_trampoline(__oak_trampolined_eatSpaceAutoInsertComma) })()};eatSpaceAutoInsertComma();__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(nextTok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('comment')),()=>(null)],[()=>(__Oak_Empty),()=>((lastTok=nextTok))]]);return __oak_if(eof__oak_qm(),[[()=>(false),()=>(__oak_trampoline(__oak_trampolined_sub))]]) })()});return __oak_resolve_trampoline(__oak_trampolined_sub) })()};__oak_if(eof__oak_qm(),[[()=>(false),()=>(sub())]]);__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(lastTok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('comma')),()=>(null)],[()=>(__Oak_Empty),()=>(__oak_push(tokens,Token(Symbol.for('comma'))))]]);return tokens })()};return {readUntilChar:readUntilChar,tokenize:tokenize} })()};tokenize=function tokenize(text=null){return (()=>{let __oak_acc_trgt=__as_oak_string(Tokenizer(text));return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[tokenize])||null:(__oak_acc_trgt.tokenize!==undefined?__oak_acc_trgt.tokenize:null)})()()};Parser=function Parser(tokens=null){return (()=>{ let back;let eof__oak_qm;let error;let expect;let index;let infixOpPrecedence;let lastMinPrec;let minBinaryPrec;let next;let notError;let parseAssignment;let parseNode;let parseSubNode;let parseUnit;let peek;let peekAhead;let popMinPrec;let pushMinPrec;let readUntilTokenType;(index=0);(minBinaryPrec=[0]);(tokens=filter(tokens,function _(tok=null){return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(tok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('newline')),()=>(false)],[()=>(Symbol.for('comment')),()=>(false)],[()=>(__Oak_Empty),()=>(true)]])}));error=function error(msg=null,pos=null){return {type:Symbol.for('error'),error:msg,pos:pos}};lastMinPrec=function lastMinPrec(){return (()=>{let __oak_acc_trgt=__as_oak_string(minBinaryPrec);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[((len(minBinaryPrec)-1))])||null:(__oak_acc_trgt[((len(minBinaryPrec)-1))]!==undefined?__oak_acc_trgt[((len(minBinaryPrec)-1))]:null)})()};pushMinPrec=function pushMinPrec(prec=null){return __oak_push(minBinaryPrec,prec)};popMinPrec=function popMinPrec(){return (minBinaryPrec=slice(minBinaryPrec,0,(len(minBinaryPrec)-1)))};eof__oak_qm=function eof__oak_qm(){return __oak_eq(index,len(tokens))};peek=function peek(){return (()=>{let __oak_acc_trgt=__as_oak_string(tokens);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(index)])||null:(__oak_acc_trgt[(index)]!==undefined?__oak_acc_trgt[(index)]:null)})()};peekAhead=function peekAhead(n=null){return __oak_if((__as_oak_string(index+n)>len(tokens)),[[()=>(true),()=>({type:Symbol.for('comma')})],[()=>(__Oak_Empty),()=>((()=>{let __oak_acc_trgt=__as_oak_string(tokens);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(__as_oak_string(index+n))])||null:(__oak_acc_trgt[(__as_oak_string(index+n))]!==undefined?__oak_acc_trgt[(__as_oak_string(index+n))]:null)})())]])};next=function next(){return (()=>{ let tok;(tok=(()=>{let __oak_acc_trgt=__as_oak_string(tokens);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(index)])||null:(__oak_acc_trgt[(index)]!==undefined?__oak_acc_trgt[(index)]:null)})());__oak_if((index<len(tokens)),[[()=>(true),()=>((index=__as_oak_string(index+1)))]]);return tok })()};back=function back(){return __oak_if((index>0),[[()=>(true),()=>((index=(index-1)))]])};expect=function expect(type=null){return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(format(__Oak_String(`Unexpected end of input, expected {{0}}`),type)))],[()=>(__Oak_Empty),()=>((()=>{ let nextTok;(nextTok=next());return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(nextTok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(type),()=>(nextTok)],[()=>(__Oak_Empty),()=>(error(format(__Oak_String(`Unexpected token {{0}}, expected {{1}}`),nextTok,type),(()=>{let __oak_acc_trgt=__as_oak_string(nextTok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))]]) })())]])};readUntilTokenType=function readUntilTokenType(type=null){return (()=>{ let sub;let tokens;(tokens=[]);sub=function sub(){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(){return __oak_if(__oak_and(!eof(),!__oak_eq((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),type)),[[()=>(true),()=>((__oak_push(tokens,next()),__oak_trampoline(__oak_trampolined_sub)))],[()=>(__Oak_Empty),()=>(tokens)]])});return __oak_resolve_trampoline(__oak_trampolined_sub) })()};return sub() })()};notError=function notError(x=null,withNotErr=null){return __oak_if(x,[[()=>({type:Symbol.for('error'),error:__Oak_Empty,pos:__Oak_Empty}),()=>(x)],[()=>(__Oak_Empty),()=>(withNotErr(x))]])};parseAssignment=function parseAssignment(left=null){return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('assign')),()=>((()=>{ let node;let nxt;let right;(nxt=next());(node={type:Symbol.for('assignment'),tok:nxt,local__oak_qm:__oak_eq((()=>{let __oak_acc_trgt=__as_oak_string(nxt);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),Symbol.for('assign')),left:left});return notError((right=parseNode()),function _(){return ((()=>{let __oak_assgn_trgt=__as_oak_string(node);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(right,right):((__oak_assgn_trgt.right)=right);return __oak_assgn_trgt})(),node)}) })())],[()=>(Symbol.for('nonlocalAssign')),()=>((()=>{ let node;let nxt;let right;(nxt=next());(node={type:Symbol.for('assignment'),tok:nxt,local__oak_qm:__oak_eq((()=>{let __oak_acc_trgt=__as_oak_string(nxt);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),Symbol.for('assign')),left:left});return notError((right=parseNode()),function _(){return ((()=>{let __oak_assgn_trgt=__as_oak_string(node);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(right,right):((__oak_assgn_trgt.right)=right);return __oak_assgn_trgt})(),node)}) })())],[()=>(__Oak_Empty),()=>(left)]])};parseUnit=function parseUnit(){return (()=>{ let parsed;let right;let tok;(tok=next());return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(tok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('qmark')),()=>({type:Symbol.for('null'),tok:tok})],[()=>(Symbol.for('stringLiteral')),()=>({type:Symbol.for('string'),tok:tok,val:(()=>{ let sub;let verbatim;(verbatim=(()=>{let __oak_acc_trgt=__as_oak_string(tok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})());sub=function sub(parsed=null,i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(parsed=null,i=null){let c;let c1;let c2;let code;let escapedChar;return __oak_if((c=(()=>{let __oak_acc_trgt=__as_oak_string(verbatim);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})()),[[()=>(null),()=>(parsed)],[()=>(__Oak_String(`\\`)),()=>(__oak_if((escapedChar=(()=>{let __oak_acc_trgt=__as_oak_string(verbatim);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(__as_oak_string(i+1))])||null:(__oak_acc_trgt[(__as_oak_string(i+1))]!==undefined?__oak_acc_trgt[(__as_oak_string(i+1))]:null)})()),[[()=>(__Oak_String(`t`)),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(parsed,__Oak_String(`	`)),__as_oak_string(i+2)))],[()=>(__Oak_String(`n`)),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(parsed,__Oak_String(`
`)),__as_oak_string(i+2)))],[()=>(__Oak_String(`r`)),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(parsed,__Oak_String(``)),__as_oak_string(i+2)))],[()=>(__Oak_String(`f`)),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(parsed,__Oak_String(``)),__as_oak_string(i+2)))],[()=>(__Oak_String(`x`)),()=>(__oak_if((c1=(()=>{let __oak_acc_trgt=__as_oak_string(verbatim);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(__as_oak_string(i+2))])||null:(__oak_acc_trgt[(__as_oak_string(i+2))]!==undefined?__oak_acc_trgt[(__as_oak_string(i+2))]:null)})()),[[()=>(null),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(parsed,escapedChar),__as_oak_string(i+2)))],[()=>(__Oak_Empty),()=>(__oak_if((c2=(()=>{let __oak_acc_trgt=__as_oak_string(verbatim);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(__as_oak_string(i+3))])||null:(__oak_acc_trgt[(__as_oak_string(i+3))]!==undefined?__oak_acc_trgt[(__as_oak_string(i+3))]:null)})()),[[()=>(null),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(__oak_push(parsed,escapedChar),c1),__as_oak_string(i+3)))],[()=>(__Oak_Empty),()=>(__oak_if((code=fromHex(__as_oak_string(c1+c2))),[[()=>(null),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(__oak_push(__oak_push(parsed,escapedChar),c1),c2),__as_oak_string(i+4)))],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(parsed,char(code)),__as_oak_string(i+4)))]]))]]))]]))],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(parsed,escapedChar),__as_oak_string(i+2)))]]))],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(parsed,c),__as_oak_string(i+1)))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,parsed,i) })()};return sub(__Oak_String(``),0) })()})],[()=>(Symbol.for('numberLiteral')),()=>(__oak_if(strContains__oak_qm((()=>{let __oak_acc_trgt=__as_oak_string(tok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})(),__Oak_String(`.`)),[[()=>(true),()=>(__oak_if((parsed=float((()=>{let __oak_acc_trgt=__as_oak_string(tok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})())),[[()=>(null),()=>(error(format(__Oak_String(`Could not parse floating point number {{0}}`),(()=>{let __oak_acc_trgt=__as_oak_string(tok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})()),(()=>{let __oak_acc_trgt=__as_oak_string(tok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>({type:Symbol.for('float'),tok:tok,val:parsed})]]))],[()=>(__Oak_Empty),()=>(__oak_if((parsed=int((()=>{let __oak_acc_trgt=__as_oak_string(tok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})())),[[()=>(null),()=>(error(format(__Oak_String(`Could not parse integer number {{0}}`),(()=>{let __oak_acc_trgt=__as_oak_string(tok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})()),(()=>{let __oak_acc_trgt=__as_oak_string(tok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>({type:Symbol.for('int'),tok:tok,val:parsed})]]))]]))],[()=>(Symbol.for('trueLiteral')),()=>({type:Symbol.for('bool'),tok:tok,val:true})],[()=>(Symbol.for('falseLiteral')),()=>({type:Symbol.for('bool'),tok:tok,val:false})],[()=>(Symbol.for('colon')),()=>(__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('identifier')),()=>({type:Symbol.for('atom'),tok:tok,val:(()=>{let __oak_acc_trgt=__as_oak_string(next());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})()})],[()=>(__Oak_Empty),()=>(error(format(__Oak_String(`Expected identifier after ":", got {{0}}`),peek()),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))]]))],[()=>(Symbol.for('leftBracket')),()=>((()=>{ let itemNodes;let sub;pushMinPrec(0);(itemNodes=[]);sub=function sub(){let node;return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(__Oak_String(`Unexpected end of input inside list`),(()=>{let __oak_acc_trgt=__as_oak_string(tok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>(__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('rightBracket')),()=>(null)],[()=>(__Oak_Empty),()=>(notError((node=parseNode()),function _(){return (()=>{ let err;return notError((err=expect(Symbol.for('comma'))),function _(){return (__oak_push(itemNodes,node),sub())}) })()}))]]))]])};return notError(sub(),function _(){return (()=>{ let err;return notError((err=expect(Symbol.for('rightBracket'))),function _(){return (popMinPrec(),{type:Symbol.for('list'),tok:tok,elems:itemNodes})}) })()}) })())],[()=>(Symbol.for('leftBrace')),()=>((()=>{ let firstExpr;pushMinPrec(0);return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('rightBrace')),()=>((next(),popMinPrec(),{type:Symbol.for('object'),tok:tok,entries:[]}))],[()=>(__Oak_Empty),()=>(notError((firstExpr=parseNode()),function _(){return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(__Oak_String(`Unexpected end of input inside block or object`),(()=>{let __oak_acc_trgt=__as_oak_string(tok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>(__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('colon')),()=>((()=>{ let valExpr;next();return notError((valExpr=parseNode()),function _(){return (notError(expect(Symbol.for('comma')),function _(){return (()=>{ let entries;let sub;(entries=[{key:firstExpr,val:valExpr}]);sub=function sub(){let key;return __oak_if(eof__oak_qm(),[[()=>(false),()=>(__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('rightBrace')),()=>(null)],[()=>(__Oak_Empty),()=>(notError((key=parseNode()),function _(){return (notError(expect(Symbol.for('colon')),function _(){return (()=>{ let val;return notError((val=parseNode()),function _(){return (notError(expect(Symbol.for('comma')),function _(){return (__oak_push(entries,{key:key,val:val}),sub())}))}) })()}))}))]]))]])};return notError(sub(),function _(){return (notError(expect(Symbol.for('rightBrace')),function _(){return (popMinPrec(),{type:Symbol.for('object'),tok:tok,entries:entries})}))}) })()}))}) })())],[()=>(__Oak_Empty),()=>(notError(expect(Symbol.for('comma')),function _(){return (()=>{ let exprs;let sub;(exprs=[firstExpr]);sub=function sub(){let expr;return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(__Oak_String(`Unexpected end of block or object`),(()=>{let __oak_acc_trgt=__as_oak_string(tok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>(__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('rightBrace')),()=>(null)],[()=>(__Oak_Empty),()=>(notError((expr=parseNode()),function _(){return (notError(expect(Symbol.for('comma')),function _(){return (__oak_push(exprs,expr),sub())}))}))]]))]])};return notError(sub(),function _(){return (notError(expect(Symbol.for('rightBrace')),function _(){return (popMinPrec(),{type:Symbol.for('block'),tok:tok,exprs:exprs})}))}) })()}))]]))]])}))]]) })())],[()=>(Symbol.for('fnKeyword')),()=>((()=>{ let args;let name;let parseBody;let restArg;pushMinPrec(0);(name=__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('identifier')),()=>((()=>{let __oak_acc_trgt=__as_oak_string(next());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})())],[()=>(__Oak_Empty),()=>(__Oak_String(``))]]));(args=[]);(restArg=__Oak_String(``));parseBody=function parseBody(){let body;return notError((body=parseNode()),function _(){return (__oak_if(body,[[()=>({type:Symbol.for('object'),tok:__Oak_Empty,entries:[]}),()=>((body={type:Symbol.for('block'),tok:(()=>{let __oak_acc_trgt=__as_oak_string(body);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[tok])||null:(__oak_acc_trgt.tok!==undefined?__oak_acc_trgt.tok:null)})(),exprs:[]}))]]),popMinPrec(),{type:Symbol.for('function'),name:name,tok:tok,args:args,restArg:restArg,body:body})})};return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('leftParen')),()=>((()=>{ let sub;next();sub=function sub(){return __oak_if(eof__oak_qm(),[[()=>(false),()=>(__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('rightParen')),()=>(null)],[()=>(__Oak_Empty),()=>((()=>{ let arg;(arg=expect(Symbol.for('identifier')));return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(arg);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('error')),()=>((back(),notError(expect(Symbol.for('underscore')),function _(){return (__oak_push(args,__Oak_String(`_`)),notError(expect(Symbol.for('comma')),function _(){return (sub())}))})))],[()=>(__Oak_Empty),()=>(__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('ellipsis')),()=>(((restArg=(()=>{let __oak_acc_trgt=__as_oak_string(arg);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})()),next(),notError(expect(Symbol.for('comma')),function _(){return (sub())})))],[()=>(__Oak_Empty),()=>((__oak_push(args,(()=>{let __oak_acc_trgt=__as_oak_string(arg);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})()),notError(expect(Symbol.for('comma')),function _(){return (sub())})))]]))]]) })())]]))]])};return notError(sub(),function _(){return (notError(expect(Symbol.for('rightParen')),function _(){return (parseBody())}))}) })())],[()=>(__Oak_Empty),()=>(parseBody())]]) })())],[()=>(Symbol.for('underscore')),()=>({type:Symbol.for('empty'),tok:tok})],[()=>(Symbol.for('identifier')),()=>({type:Symbol.for('identifier'),tok:tok,val:(()=>{let __oak_acc_trgt=__as_oak_string(tok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})()})],[()=>(Symbol.for('minus')),()=>(notError((right=parseSubNode()),function _(){return {type:Symbol.for('unary'),tok:tok,op:(()=>{let __oak_acc_trgt=__as_oak_string(tok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),right:right}}))],[()=>(Symbol.for('exclam')),()=>(notError((right=parseSubNode()),function _(){return {type:Symbol.for('unary'),tok:tok,op:(()=>{let __oak_acc_trgt=__as_oak_string(tok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),right:right}}))],[()=>(Symbol.for('ifKeyword')),()=>((()=>{ let condNode;pushMinPrec(0);(condNode=__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('leftBrace')),()=>({type:Symbol.for('bool'),val:true,tok:tok})],[()=>(__Oak_Empty),()=>(parseNode())]]));return notError(condNode,function _(){return (notError(expect(Symbol.for('leftBrace')),function _(){return (()=>{ let branches;let subBranch;subBranch=function subBranch(branches=null){return __oak_if(eof__oak_qm(),[[()=>(false),()=>(__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('rightBrace')),()=>(branches)],[()=>(__Oak_Empty),()=>((()=>{ let subTarget;let targets;subTarget=function subTarget(targets=null){let target;return __oak_if(eof__oak_qm(),[[()=>(true),()=>(targets)],[()=>(__Oak_Empty),()=>(notError((target=parseNode()),function _(){return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('branchArrow')),()=>(__oak_push(targets,target))],[()=>(__Oak_Empty),()=>(notError(expect(Symbol.for('comma')),function _(){return (subTarget(__oak_push(targets,target)))}))]])}))]])};return notError((targets=subTarget([])),function _(){return (notError(expect(Symbol.for('branchArrow')),function _(){return (()=>{ let body;return notError((body=parseNode()),function _(){return (notError(expect(Symbol.for('comma')),function _(){return (subBranch(append(branches,map(targets,function _(target=null){return {type:Symbol.for('ifBranch'),target:target,body:body}}))))}))}) })()}))}) })())]]))],[()=>(__Oak_Empty),()=>(branches)]])};return notError((branches=subBranch([])),function _(){return (notError(expect(Symbol.for('rightBrace')),function _(){return (popMinPrec(),{type:Symbol.for('ifExpr'),tok:tok,cond:condNode,branches:branches})}))}) })()}))}) })())],[()=>(Symbol.for('withKeyword')),()=>((()=>{ let base;pushMinPrec(0);return notError((base=parseNode()),function _(){let lastArg;return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(base);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('fnCall')),()=>(notError((lastArg=parseNode()),function _(){return (popMinPrec(),__oak_push((()=>{let __oak_acc_trgt=__as_oak_string(base);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[args])||null:(__oak_acc_trgt.args!==undefined?__oak_acc_trgt.args:null)})(),lastArg),base)}))],[()=>(__Oak_Empty),()=>(error(format(__Oak_String(`with keyword should be followed by a fn call, found {{0}}`),base),(()=>{let __oak_acc_trgt=__as_oak_string(tok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))]])}) })())],[()=>(Symbol.for('leftParen')),()=>((()=>{ let exprs;let subExpr;pushMinPrec(0);subExpr=function subExpr(exprs=null){let expr;return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(__Oak_String(`Unexpected end of input inside block`),(()=>{let __oak_acc_trgt=__as_oak_string(tok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>(__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('rightParen')),()=>(exprs)],[()=>(__Oak_Empty),()=>(notError((expr=parseNode()),function _(){return (notError(expect(Symbol.for('comma')),function _(){return (subExpr(__oak_push(exprs,expr)))}))}))]]))]])};return notError((exprs=subExpr([])),function _(){return (notError(expect(Symbol.for('rightParen')),function _(){return (popMinPrec(),{type:Symbol.for('block'),tok:tok,exprs:exprs})}))}) })())],[()=>(__Oak_Empty),()=>(error(format(__Oak_String(`Unexpected token {{0}} at start of unit`),tok),(()=>{let __oak_acc_trgt=__as_oak_string(tok);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))]]) })()};infixOpPrecedence=function infixOpPrecedence(op=null){return __oak_if(op,[[()=>(Symbol.for('plus')),()=>(40)],[()=>(Symbol.for('minus')),()=>(40)],[()=>(Symbol.for('times')),()=>(50)],[()=>(Symbol.for('divide')),()=>(50)],[()=>(Symbol.for('modulus')),()=>(80)],[()=>(Symbol.for('eq')),()=>(30)],[()=>(Symbol.for('greater')),()=>(30)],[()=>(Symbol.for('less')),()=>(30)],[()=>(Symbol.for('geq')),()=>(30)],[()=>(Symbol.for('leq')),()=>(30)],[()=>(Symbol.for('neq')),()=>(30)],[()=>(Symbol.for('and')),()=>(20)],[()=>(Symbol.for('xor')),()=>(15)],[()=>(Symbol.for('or')),()=>(10)],[()=>(Symbol.for('pushArrow')),()=>(1)],[()=>(__Oak_Empty),()=>(-1)]])};parseSubNode=function parseSubNode(){return (()=>{ let node;pushMinPrec(0);return notError((node=parseUnit()),function _(){return (()=>{ let sub;sub=function sub(){return __oak_if(eof__oak_qm(),[[()=>(false),()=>(__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('dot')),()=>((()=>{ let nxt;let right;(nxt=next());return notError((right=parseUnit()),function _(){return ((node={type:Symbol.for('propertyAccess'),tok:nxt,left:node,right:right}),sub())}) })())],[()=>(Symbol.for('leftParen')),()=>((()=>{ let args;let nxt;let restArg;let subArg;(nxt=next());(args=[]);(restArg=null);subArg=function subArg(){let arg;return __oak_if(eof__oak_qm(),[[()=>(false),()=>(__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('rightParen')),()=>(notError(expect(Symbol.for('rightParen')),function _(){return (null)}))],[()=>(__Oak_Empty),()=>(notError((arg=parseNode()),function _(){return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('ellipsis')),()=>((next(),notError(expect(Symbol.for('comma')),function _(){return ((restArg=arg),subArg())})))],[()=>(Symbol.for('comma')),()=>((next(),__oak_push(args,arg),subArg()))],[()=>(__Oak_Empty),()=>(error(format(__Oak_String(`Expected comma after arg in argument list, got {{0}}`),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})()),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))]])}))]]))]])};return notError(subArg(),function _(){return ((node={type:Symbol.for('fnCall'),__oak_js_function:node,args:args,restArg:restArg,tok:nxt}),sub())}) })())]]))]])};return notError(sub(),function _(){return (popMinPrec(),node)}) })()}) })()};parseNode=function parseNode(){let node;return notError((node=parseSubNode()),function _(){return (()=>{ let sub;sub=function sub(){return __oak_if(eof__oak_qm(),[[()=>(false),()=>(__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('comma')),()=>(null)],[()=>(Symbol.for('assign')),()=>((node=parseAssignment(node)))],[()=>(Symbol.for('nonlocalAssign')),()=>((node=parseAssignment(node)))],[()=>(Symbol.for('plus')),()=>((()=>{ let minPrec;let subBinary;(minPrec=lastMinPrec());subBinary=function subBinary(){return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(__Oak_String(`Incomplete binary expression`),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let op;let peeked;let prec;(peeked=peek());(op=(()=>{let __oak_acc_trgt=__as_oak_string(peeked);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})());(prec=infixOpPrecedence(op));return __oak_if((prec<=minPrec),[[()=>(false),()=>((next(),__oak_if(eof__oak_qm(),[[()=>(true),()=>(error(format(__Oak_String(`Incomplete binary expression with {{0}}`),{type:op}),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let right;pushMinPrec(prec);return notError((right=parseNode()),function _(){return (popMinPrec(),(node={type:Symbol.for('binary'),tok:peeked,op:op,left:node,right:right}),subBinary())}) })())]])))]]) })())]])};return notError(subBinary(),function _(){return (node)}) })())],[()=>(Symbol.for('minus')),()=>((()=>{ let minPrec;let subBinary;(minPrec=lastMinPrec());subBinary=function subBinary(){return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(__Oak_String(`Incomplete binary expression`),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let op;let peeked;let prec;(peeked=peek());(op=(()=>{let __oak_acc_trgt=__as_oak_string(peeked);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})());(prec=infixOpPrecedence(op));return __oak_if((prec<=minPrec),[[()=>(false),()=>((next(),__oak_if(eof__oak_qm(),[[()=>(true),()=>(error(format(__Oak_String(`Incomplete binary expression with {{0}}`),{type:op}),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let right;pushMinPrec(prec);return notError((right=parseNode()),function _(){return (popMinPrec(),(node={type:Symbol.for('binary'),tok:peeked,op:op,left:node,right:right}),subBinary())}) })())]])))]]) })())]])};return notError(subBinary(),function _(){return (node)}) })())],[()=>(Symbol.for('times')),()=>((()=>{ let minPrec;let subBinary;(minPrec=lastMinPrec());subBinary=function subBinary(){return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(__Oak_String(`Incomplete binary expression`),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let op;let peeked;let prec;(peeked=peek());(op=(()=>{let __oak_acc_trgt=__as_oak_string(peeked);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})());(prec=infixOpPrecedence(op));return __oak_if((prec<=minPrec),[[()=>(false),()=>((next(),__oak_if(eof__oak_qm(),[[()=>(true),()=>(error(format(__Oak_String(`Incomplete binary expression with {{0}}`),{type:op}),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let right;pushMinPrec(prec);return notError((right=parseNode()),function _(){return (popMinPrec(),(node={type:Symbol.for('binary'),tok:peeked,op:op,left:node,right:right}),subBinary())}) })())]])))]]) })())]])};return notError(subBinary(),function _(){return (node)}) })())],[()=>(Symbol.for('divide')),()=>((()=>{ let minPrec;let subBinary;(minPrec=lastMinPrec());subBinary=function subBinary(){return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(__Oak_String(`Incomplete binary expression`),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let op;let peeked;let prec;(peeked=peek());(op=(()=>{let __oak_acc_trgt=__as_oak_string(peeked);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})());(prec=infixOpPrecedence(op));return __oak_if((prec<=minPrec),[[()=>(false),()=>((next(),__oak_if(eof__oak_qm(),[[()=>(true),()=>(error(format(__Oak_String(`Incomplete binary expression with {{0}}`),{type:op}),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let right;pushMinPrec(prec);return notError((right=parseNode()),function _(){return (popMinPrec(),(node={type:Symbol.for('binary'),tok:peeked,op:op,left:node,right:right}),subBinary())}) })())]])))]]) })())]])};return notError(subBinary(),function _(){return (node)}) })())],[()=>(Symbol.for('modulus')),()=>((()=>{ let minPrec;let subBinary;(minPrec=lastMinPrec());subBinary=function subBinary(){return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(__Oak_String(`Incomplete binary expression`),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let op;let peeked;let prec;(peeked=peek());(op=(()=>{let __oak_acc_trgt=__as_oak_string(peeked);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})());(prec=infixOpPrecedence(op));return __oak_if((prec<=minPrec),[[()=>(false),()=>((next(),__oak_if(eof__oak_qm(),[[()=>(true),()=>(error(format(__Oak_String(`Incomplete binary expression with {{0}}`),{type:op}),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let right;pushMinPrec(prec);return notError((right=parseNode()),function _(){return (popMinPrec(),(node={type:Symbol.for('binary'),tok:peeked,op:op,left:node,right:right}),subBinary())}) })())]])))]]) })())]])};return notError(subBinary(),function _(){return (node)}) })())],[()=>(Symbol.for('xor')),()=>((()=>{ let minPrec;let subBinary;(minPrec=lastMinPrec());subBinary=function subBinary(){return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(__Oak_String(`Incomplete binary expression`),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let op;let peeked;let prec;(peeked=peek());(op=(()=>{let __oak_acc_trgt=__as_oak_string(peeked);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})());(prec=infixOpPrecedence(op));return __oak_if((prec<=minPrec),[[()=>(false),()=>((next(),__oak_if(eof__oak_qm(),[[()=>(true),()=>(error(format(__Oak_String(`Incomplete binary expression with {{0}}`),{type:op}),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let right;pushMinPrec(prec);return notError((right=parseNode()),function _(){return (popMinPrec(),(node={type:Symbol.for('binary'),tok:peeked,op:op,left:node,right:right}),subBinary())}) })())]])))]]) })())]])};return notError(subBinary(),function _(){return (node)}) })())],[()=>(Symbol.for('and')),()=>((()=>{ let minPrec;let subBinary;(minPrec=lastMinPrec());subBinary=function subBinary(){return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(__Oak_String(`Incomplete binary expression`),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let op;let peeked;let prec;(peeked=peek());(op=(()=>{let __oak_acc_trgt=__as_oak_string(peeked);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})());(prec=infixOpPrecedence(op));return __oak_if((prec<=minPrec),[[()=>(false),()=>((next(),__oak_if(eof__oak_qm(),[[()=>(true),()=>(error(format(__Oak_String(`Incomplete binary expression with {{0}}`),{type:op}),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let right;pushMinPrec(prec);return notError((right=parseNode()),function _(){return (popMinPrec(),(node={type:Symbol.for('binary'),tok:peeked,op:op,left:node,right:right}),subBinary())}) })())]])))]]) })())]])};return notError(subBinary(),function _(){return (node)}) })())],[()=>(Symbol.for('or')),()=>((()=>{ let minPrec;let subBinary;(minPrec=lastMinPrec());subBinary=function subBinary(){return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(__Oak_String(`Incomplete binary expression`),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let op;let peeked;let prec;(peeked=peek());(op=(()=>{let __oak_acc_trgt=__as_oak_string(peeked);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})());(prec=infixOpPrecedence(op));return __oak_if((prec<=minPrec),[[()=>(false),()=>((next(),__oak_if(eof__oak_qm(),[[()=>(true),()=>(error(format(__Oak_String(`Incomplete binary expression with {{0}}`),{type:op}),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let right;pushMinPrec(prec);return notError((right=parseNode()),function _(){return (popMinPrec(),(node={type:Symbol.for('binary'),tok:peeked,op:op,left:node,right:right}),subBinary())}) })())]])))]]) })())]])};return notError(subBinary(),function _(){return (node)}) })())],[()=>(Symbol.for('pushArrow')),()=>((()=>{ let minPrec;let subBinary;(minPrec=lastMinPrec());subBinary=function subBinary(){return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(__Oak_String(`Incomplete binary expression`),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let op;let peeked;let prec;(peeked=peek());(op=(()=>{let __oak_acc_trgt=__as_oak_string(peeked);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})());(prec=infixOpPrecedence(op));return __oak_if((prec<=minPrec),[[()=>(false),()=>((next(),__oak_if(eof__oak_qm(),[[()=>(true),()=>(error(format(__Oak_String(`Incomplete binary expression with {{0}}`),{type:op}),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let right;pushMinPrec(prec);return notError((right=parseNode()),function _(){return (popMinPrec(),(node={type:Symbol.for('binary'),tok:peeked,op:op,left:node,right:right}),subBinary())}) })())]])))]]) })())]])};return notError(subBinary(),function _(){return (node)}) })())],[()=>(Symbol.for('greater')),()=>((()=>{ let minPrec;let subBinary;(minPrec=lastMinPrec());subBinary=function subBinary(){return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(__Oak_String(`Incomplete binary expression`),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let op;let peeked;let prec;(peeked=peek());(op=(()=>{let __oak_acc_trgt=__as_oak_string(peeked);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})());(prec=infixOpPrecedence(op));return __oak_if((prec<=minPrec),[[()=>(false),()=>((next(),__oak_if(eof__oak_qm(),[[()=>(true),()=>(error(format(__Oak_String(`Incomplete binary expression with {{0}}`),{type:op}),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let right;pushMinPrec(prec);return notError((right=parseNode()),function _(){return (popMinPrec(),(node={type:Symbol.for('binary'),tok:peeked,op:op,left:node,right:right}),subBinary())}) })())]])))]]) })())]])};return notError(subBinary(),function _(){return (node)}) })())],[()=>(Symbol.for('less')),()=>((()=>{ let minPrec;let subBinary;(minPrec=lastMinPrec());subBinary=function subBinary(){return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(__Oak_String(`Incomplete binary expression`),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let op;let peeked;let prec;(peeked=peek());(op=(()=>{let __oak_acc_trgt=__as_oak_string(peeked);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})());(prec=infixOpPrecedence(op));return __oak_if((prec<=minPrec),[[()=>(false),()=>((next(),__oak_if(eof__oak_qm(),[[()=>(true),()=>(error(format(__Oak_String(`Incomplete binary expression with {{0}}`),{type:op}),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let right;pushMinPrec(prec);return notError((right=parseNode()),function _(){return (popMinPrec(),(node={type:Symbol.for('binary'),tok:peeked,op:op,left:node,right:right}),subBinary())}) })())]])))]]) })())]])};return notError(subBinary(),function _(){return (node)}) })())],[()=>(Symbol.for('eq')),()=>((()=>{ let minPrec;let subBinary;(minPrec=lastMinPrec());subBinary=function subBinary(){return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(__Oak_String(`Incomplete binary expression`),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let op;let peeked;let prec;(peeked=peek());(op=(()=>{let __oak_acc_trgt=__as_oak_string(peeked);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})());(prec=infixOpPrecedence(op));return __oak_if((prec<=minPrec),[[()=>(false),()=>((next(),__oak_if(eof__oak_qm(),[[()=>(true),()=>(error(format(__Oak_String(`Incomplete binary expression with {{0}}`),{type:op}),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let right;pushMinPrec(prec);return notError((right=parseNode()),function _(){return (popMinPrec(),(node={type:Symbol.for('binary'),tok:peeked,op:op,left:node,right:right}),subBinary())}) })())]])))]]) })())]])};return notError(subBinary(),function _(){return (node)}) })())],[()=>(Symbol.for('geq')),()=>((()=>{ let minPrec;let subBinary;(minPrec=lastMinPrec());subBinary=function subBinary(){return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(__Oak_String(`Incomplete binary expression`),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let op;let peeked;let prec;(peeked=peek());(op=(()=>{let __oak_acc_trgt=__as_oak_string(peeked);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})());(prec=infixOpPrecedence(op));return __oak_if((prec<=minPrec),[[()=>(false),()=>((next(),__oak_if(eof__oak_qm(),[[()=>(true),()=>(error(format(__Oak_String(`Incomplete binary expression with {{0}}`),{type:op}),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let right;pushMinPrec(prec);return notError((right=parseNode()),function _(){return (popMinPrec(),(node={type:Symbol.for('binary'),tok:peeked,op:op,left:node,right:right}),subBinary())}) })())]])))]]) })())]])};return notError(subBinary(),function _(){return (node)}) })())],[()=>(Symbol.for('leq')),()=>((()=>{ let minPrec;let subBinary;(minPrec=lastMinPrec());subBinary=function subBinary(){return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(__Oak_String(`Incomplete binary expression`),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let op;let peeked;let prec;(peeked=peek());(op=(()=>{let __oak_acc_trgt=__as_oak_string(peeked);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})());(prec=infixOpPrecedence(op));return __oak_if((prec<=minPrec),[[()=>(false),()=>((next(),__oak_if(eof__oak_qm(),[[()=>(true),()=>(error(format(__Oak_String(`Incomplete binary expression with {{0}}`),{type:op}),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let right;pushMinPrec(prec);return notError((right=parseNode()),function _(){return (popMinPrec(),(node={type:Symbol.for('binary'),tok:peeked,op:op,left:node,right:right}),subBinary())}) })())]])))]]) })())]])};return notError(subBinary(),function _(){return (node)}) })())],[()=>(Symbol.for('neq')),()=>((()=>{ let minPrec;let subBinary;(minPrec=lastMinPrec());subBinary=function subBinary(){return __oak_if(eof__oak_qm(),[[()=>(true),()=>(error(__Oak_String(`Incomplete binary expression`),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let op;let peeked;let prec;(peeked=peek());(op=(()=>{let __oak_acc_trgt=__as_oak_string(peeked);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})());(prec=infixOpPrecedence(op));return __oak_if((prec<=minPrec),[[()=>(false),()=>((next(),__oak_if(eof__oak_qm(),[[()=>(true),()=>(error(format(__Oak_String(`Incomplete binary expression with {{0}}`),{type:op}),(()=>{let __oak_acc_trgt=__as_oak_string(peek());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))],[()=>(__Oak_Empty),()=>((()=>{ let right;pushMinPrec(prec);return notError((right=parseNode()),function _(){return (popMinPrec(),(node={type:Symbol.for('binary'),tok:peeked,op:op,left:node,right:right}),subBinary())}) })())]])))]]) })())]])};return notError(subBinary(),function _(){return (node)}) })())],[()=>(Symbol.for('pipeArrow')),()=>((()=>{ let pipe;let pipeRight;(pipe=next());return notError((pipeRight=parseSubNode()),function _(){return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(pipeRight);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('fnCall')),()=>(((()=>{let __oak_assgn_trgt=__as_oak_string(pipeRight);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(args,append([node],(()=>{let __oak_acc_trgt=__as_oak_string(pipeRight);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[args])||null:(__oak_acc_trgt.args!==undefined?__oak_acc_trgt.args:null)})())):((__oak_assgn_trgt.args)=append([node],(()=>{let __oak_acc_trgt=__as_oak_string(pipeRight);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[args])||null:(__oak_acc_trgt.args!==undefined?__oak_acc_trgt.args:null)})()));return __oak_assgn_trgt})(),(node=pipeRight),sub()))],[()=>(__Oak_Empty),()=>(error(format(__Oak_String(`Expected function call after |>, got {{0}}`),pipeRight),(()=>{let __oak_acc_trgt=__as_oak_string(pipe);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[pos])||null:(__oak_acc_trgt.pos!==undefined?__oak_acc_trgt.pos:null)})()))]])}) })())]]))]])};return notError(sub(),function _(){return (node)}) })()})};return {parse:function _(){return (()=>{ let nodes;let sub;(nodes=[]);sub=function sub(){let node;return __oak_if(eof__oak_qm(),[[()=>(false),()=>(notError((node=parseNode()),function _(){return (notError(expect(Symbol.for('comma')),function _(){return (__oak_push(nodes,node),sub())}))}))]])};return notError(sub(),function _(){return (nodes)}) })()}} })()};parse=function parse(text=null){return (()=>{ let tokens;(tokens=tokenize(text));return (()=>{let __oak_acc_trgt=__as_oak_string(Parser(tokens));return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[parse])||null:(__oak_acc_trgt.parse!==undefined?__oak_acc_trgt.parse:null)})()() })()};Printer=function Printer(tokens=null){return (()=>{ let connectingToken__oak_qm;let last;let print;let render;let tabs;tabs=function tabs(n=null){return __oak_if(true,[[()=>((n>0)),()=>(__oak_push(tabs((n-1)),__Oak_String(`	`)))],[()=>(__Oak_Empty),()=>(__Oak_String(``))]])};render=function render(token=null){return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(token);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),[[()=>(Symbol.for('comment')),()=>(__as_oak_string(__Oak_String(`//`)+(()=>{let __oak_acc_trgt=__as_oak_string(token);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})()))],[()=>(Symbol.for('comma')),()=>(__Oak_String(`,`))],[()=>(Symbol.for('dot')),()=>(__Oak_String(`.`))],[()=>(Symbol.for('leftParen')),()=>(__Oak_String(`(`))],[()=>(Symbol.for('rightParen')),()=>(__Oak_String(`)`))],[()=>(Symbol.for('leftBracket')),()=>(__Oak_String(`[`))],[()=>(Symbol.for('rightBracket')),()=>(__Oak_String(`]`))],[()=>(Symbol.for('leftBrace')),()=>(__Oak_String(`{`))],[()=>(Symbol.for('rightBrace')),()=>(__Oak_String(`}`))],[()=>(Symbol.for('assign')),()=>(__Oak_String(`:=`))],[()=>(Symbol.for('nonlocalAssign')),()=>(__Oak_String(`<-`))],[()=>(Symbol.for('pipeArrow')),()=>(__Oak_String(`|>`))],[()=>(Symbol.for('branchArrow')),()=>(__Oak_String(`->`))],[()=>(Symbol.for('pushArrow')),()=>(__Oak_String(`<<`))],[()=>(Symbol.for('colon')),()=>(__Oak_String(`:`))],[()=>(Symbol.for('ellipsis')),()=>(__Oak_String(`...`))],[()=>(Symbol.for('qmark')),()=>(__Oak_String(`?`))],[()=>(Symbol.for('exclam')),()=>(__Oak_String(`!`))],[()=>(Symbol.for('plus')),()=>(__Oak_String(`+`))],[()=>(Symbol.for('minus')),()=>(__Oak_String(`-`))],[()=>(Symbol.for('times')),()=>(__Oak_String(`*`))],[()=>(Symbol.for('divide')),()=>(__Oak_String(`/`))],[()=>(Symbol.for('modulus')),()=>(__Oak_String(`%`))],[()=>(Symbol.for('xor')),()=>(__Oak_String(`^`))],[()=>(Symbol.for('and')),()=>(__Oak_String(`&`))],[()=>(Symbol.for('or')),()=>(__Oak_String(`|`))],[()=>(Symbol.for('greater')),()=>(__Oak_String(`>`))],[()=>(Symbol.for('less')),()=>(__Oak_String(`<`))],[()=>(Symbol.for('eq')),()=>(__Oak_String(`=`))],[()=>(Symbol.for('geq')),()=>(__Oak_String(`>=`))],[()=>(Symbol.for('leq')),()=>(__Oak_String(`<=`))],[()=>(Symbol.for('neq')),()=>(__Oak_String(`!=`))],[()=>(Symbol.for('ifKeyword')),()=>(__Oak_String(`if`))],[()=>(Symbol.for('fnKeyword')),()=>(__Oak_String(`fn`))],[()=>(Symbol.for('withKeyword')),()=>(__Oak_String(`with`))],[()=>(Symbol.for('underscore')),()=>(__Oak_String(`_`))],[()=>(Symbol.for('identifier')),()=>((()=>{let __oak_acc_trgt=__as_oak_string(token);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})())],[()=>(Symbol.for('trueLiteral')),()=>(__Oak_String(`true`))],[()=>(Symbol.for('falseLiteral')),()=>(__Oak_String(`false`))],[()=>(Symbol.for('stringLiteral')),()=>(__oak_push(__oak_push(__Oak_String(`'`),(()=>{let __oak_acc_trgt=__as_oak_string(token);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})()),__Oak_String(`'`)))],[()=>(Symbol.for('numberLiteral')),()=>((()=>{let __oak_acc_trgt=__as_oak_string(token);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[val])||null:(__oak_acc_trgt.val!==undefined?__oak_acc_trgt.val:null)})())],[()=>(__Oak_Empty),()=>((printf(__Oak_String(`Unknown token {{0}}`),token),string(token)))]])};connectingToken__oak_qm=function connectingToken__oak_qm(tokenType=null){return __oak_if(tokenType,[[()=>(Symbol.for('assign')),()=>(true)],[()=>(Symbol.for('nonlocalAssign')),()=>(true)],[()=>(Symbol.for('pipeArrow')),()=>(true)],[()=>(Symbol.for('branchArrow')),()=>(true)],[()=>(Symbol.for('pushArrow')),()=>(true)],[()=>(Symbol.for('colon')),()=>(true)],[()=>(Symbol.for('plus')),()=>(true)],[()=>(Symbol.for('minus')),()=>(true)],[()=>(Symbol.for('times')),()=>(true)],[()=>(Symbol.for('divide')),()=>(true)],[()=>(Symbol.for('modulus')),()=>(true)],[()=>(Symbol.for('xor')),()=>(true)],[()=>(Symbol.for('and')),()=>(true)],[()=>(Symbol.for('or')),()=>(true)],[()=>(Symbol.for('greater')),()=>(true)],[()=>(Symbol.for('less')),()=>(true)],[()=>(Symbol.for('eq')),()=>(true)],[()=>(Symbol.for('geq')),()=>(true)],[()=>(Symbol.for('leq')),()=>(true)],[()=>(Symbol.for('neq')),()=>(true)],[()=>(__Oak_Empty),()=>(false)]])};last=function last(list=null){return (()=>{let __oak_acc_trgt=__as_oak_string(list);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[((len(list)-1))])||null:(__oak_acc_trgt[((len(list)-1))]!==undefined?__oak_acc_trgt[((len(list)-1))]:null)})()};print=function print(){return (()=>{ let add;let curr;let currs;let hanging__oak_qm;let indentLine;let indentedLines;let indents;let lines;let purelyDescendingPrefix;(lines=[__Oak_String(``)]);(indents=[]);(curr=0);(currs=[0]);(hanging__oak_qm=false);add=function add(s=null,tabs=null){return (__oak_if(trim(last(lines),__Oak_String(`	`)),[[()=>(__Oak_String(``)),()=>(__oak_push(last(lines),trimStart(s,__Oak_String(` `))))],[()=>(__Oak_Empty),()=>(__oak_push(last(lines),s))]]),(curr=__as_oak_string(curr+tabs)),__oak_push(currs,curr))};purelyDescendingPrefix=function purelyDescendingPrefix(list=null){return __oak_if(len(list),[[()=>(0),()=>(list)],[()=>(__Oak_Empty),()=>((()=>{ let sub;sub=function sub(i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null){return __oak_if(true,[[()=>(__oak_eq(i,len(list))),()=>(slice(list,0,i))],[()=>(((()=>{let __oak_acc_trgt=__as_oak_string(list);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[((i-1))])||null:(__oak_acc_trgt[((i-1))]!==undefined?__oak_acc_trgt[((i-1))]:null)})()>(()=>{let __oak_acc_trgt=__as_oak_string(list);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})())),()=>(__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1)))],[()=>(__Oak_Empty),()=>(slice(list,0,i))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i) })()};return sub(1) })())]])};indentLine=function indentLine(lastType=null){return (()=>{ let indent;(indent=min(...currs));__oak_if(true,[[()=>((()=>{ let prefix;(prefix=purelyDescendingPrefix(currs));return __oak_and((len(prefix)<=1),(__oak_js_default((()=>{let __oak_acc_trgt=__as_oak_string(prefix);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[0])||null:(__oak_acc_trgt[0]!==undefined?__oak_acc_trgt[0]:null)})(),0)>indent)) })()),()=>((indent=__as_oak_string(indent+1)))],[()=>(hanging__oak_qm),()=>((indent=__as_oak_string(indent+1)))]]);(hanging__oak_qm=__oak_if(true,[[()=>(connectingToken__oak_qm(lastType)),()=>(true)],[()=>(__oak_eq(lastType,Symbol.for('dot'))),()=>(true)],[()=>(__Oak_Empty),()=>(false)]]));return indent })()};each(tokens,function _(token=null,i=null){return (()=>{ let lastLastType;let lastType;let nextType;(nextType=(()=>{let __oak_acc_trgt=__as_oak_string(__oak_js_default((()=>{let __oak_acc_trgt=__as_oak_string(tokens);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(__as_oak_string(i+1))])||null:(__oak_acc_trgt[(__as_oak_string(i+1))]!==undefined?__oak_acc_trgt[(__as_oak_string(i+1))]:null)})(),{type:Symbol.for('newline')}));return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})());([lastLastType,lastType=null]=__oak_if(i,[[()=>(0),()=>([Symbol.for('newline'),Symbol.for('newline')])],[()=>(1),()=>([Symbol.for('newline'),(()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(tokens);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[((i-1))])||null:(__oak_acc_trgt[((i-1))]!==undefined?__oak_acc_trgt[((i-1))]:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})()])],[()=>(__Oak_Empty),()=>((()=>{ let prev;let sub;sub=function sub(prev=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(prev=null){return __oak_if(prev,[[()=>(-2),()=>(prev)],[()=>(-1),()=>(prev)],[()=>(0),()=>(prev)],[()=>(__Oak_Empty),()=>(__oak_if([(()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(tokens);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(prev)])||null:(__oak_acc_trgt[(prev)]!==undefined?__oak_acc_trgt[(prev)]:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),(()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(tokens);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[((prev-1))])||null:(__oak_acc_trgt[((prev-1))]!==undefined?__oak_acc_trgt[((prev-1))]:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})()],[[()=>([Symbol.for('newline'),Symbol.for('comment')]),()=>(__oak_trampoline(__oak_trampolined_sub,(prev-2)))],[()=>([Symbol.for('comment'),Symbol.for('newline')]),()=>(__oak_trampoline(__oak_trampolined_sub,(prev-2)))],[()=>([Symbol.for('comment'),__Oak_Empty]),()=>(__oak_trampoline(__oak_trampolined_sub,(prev-1)))],[()=>(__Oak_Empty),()=>(prev)]]))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,prev) })()};(prev=max(sub((i-1)),0));return [__oak_if(prev,[[()=>(0),()=>(Symbol.for('newline'))],[()=>(__Oak_Empty),()=>((()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(tokens);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[((prev-1))])||null:(__oak_acc_trgt[((prev-1))]!==undefined?__oak_acc_trgt[((prev-1))]:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})())]]),(()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(tokens);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(prev)])||null:(__oak_acc_trgt[(prev)]!==undefined?__oak_acc_trgt[(prev)]:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})()] })())]]));return __oak_if([lastType,(()=>{let __oak_acc_trgt=__as_oak_string(token);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[type])||null:(__oak_acc_trgt.type!==undefined?__oak_acc_trgt.type:null)})(),nextType],[[()=>([__Oak_Empty,Symbol.for('newline'),__Oak_Empty]),()=>((__oak_push(indents,indentLine(lastType)),(currs=[curr]),__oak_push(lines,__Oak_String(``))))],[()=>([__Oak_Empty,Symbol.for('dot'),__Oak_Empty]),()=>(add(__Oak_String(`.`),0))],[()=>([__Oak_Empty,Symbol.for('leftParen'),__Oak_Empty]),()=>(__oak_if(true,[[()=>(connectingToken__oak_qm(lastType)),()=>(add(__oak_push(__Oak_String(` `),render(token)),1))],[()=>(__oak_eq(lastType,Symbol.for('comma'))),()=>(add(__oak_push(__Oak_String(` `),render(token)),1))],[()=>(__oak_eq(lastType,Symbol.for('ifKeyword'))),()=>(add(__oak_push(__Oak_String(` `),render(token)),1))],[()=>(__oak_eq(lastType,Symbol.for('withKeyword'))),()=>(add(__oak_push(__Oak_String(` `),render(token)),1))],[()=>(__Oak_Empty),()=>(add(render(token),1))]]))],[()=>([__Oak_Empty,Symbol.for('leftBracket'),__Oak_Empty]),()=>(__oak_if(lastType,[[()=>(Symbol.for('leftParen')),()=>(add(render(token),1))],[()=>(Symbol.for('leftBracket')),()=>(add(render(token),1))],[()=>(__Oak_Empty),()=>(add(__oak_push(__Oak_String(` `),render(token)),1))]]))],[()=>([__Oak_Empty,Symbol.for('leftBrace'),__Oak_Empty]),()=>(__oak_if(lastType,[[()=>(Symbol.for('leftParen')),()=>(add(render(token),1))],[()=>(Symbol.for('leftBracket')),()=>(add(render(token),1))],[()=>(__Oak_Empty),()=>(add(__oak_push(__Oak_String(` `),render(token)),1))]]))],[()=>([Symbol.for('newline'),Symbol.for('rightParen'),__Oak_Empty]),()=>(add(render(token),-1))],[()=>([Symbol.for('newline'),Symbol.for('rightBracket'),__Oak_Empty]),()=>(add(render(token),-1))],[()=>([Symbol.for('newline'),Symbol.for('rightBrace'),__Oak_Empty]),()=>(add(render(token),-1))],[()=>([__Oak_Empty,Symbol.for('rightParen'),__Oak_Empty]),()=>(add(render(token),-1))],[()=>([__Oak_Empty,Symbol.for('rightBracket'),__Oak_Empty]),()=>(add(render(token),-1))],[()=>([Symbol.for('leftBrace'),Symbol.for('rightBrace'),__Oak_Empty]),()=>(add(render(token),-1))],[()=>([__Oak_Empty,Symbol.for('rightBrace'),__Oak_Empty]),()=>(add(__oak_push(__Oak_String(` `),render(token)),-1))],[()=>([__Oak_Empty,Symbol.for('comma'),Symbol.for('newline')]),()=>(null)],[()=>([__Oak_Empty,Symbol.for('comma'),Symbol.for('rightParen')]),()=>(null)],[()=>([__Oak_Empty,Symbol.for('comma'),Symbol.for('rightBracket')]),()=>(null)],[()=>([__Oak_Empty,Symbol.for('comma'),Symbol.for('rightBrace')]),()=>(null)],[()=>([__Oak_Empty,Symbol.for('colon'),__Oak_Empty]),()=>(__oak_if(true,[[()=>(__oak_eq(lastType,Symbol.for('comma'))),()=>(add(__Oak_String(` :`),0))],[()=>(__oak_eq(lastType,Symbol.for('leftBrace'))),()=>(add(__Oak_String(` :`),0))],[()=>(connectingToken__oak_qm(lastType)),()=>(add(__Oak_String(` :`),0))],[()=>(__Oak_Empty),()=>(add(__Oak_String(`:`),0))]]))],[()=>([__Oak_Empty,Symbol.for('comma'),__Oak_Empty]),()=>(add(render(token),0))],[()=>([__Oak_Empty,Symbol.for('ellipsis'),__Oak_Empty]),()=>(add(render(token),0))],[()=>([Symbol.for('leftParen'),__Oak_Empty,__Oak_Empty]),()=>(add(render(token),0))],[()=>([Symbol.for('leftBracket'),__Oak_Empty,__Oak_Empty]),()=>(add(render(token),0))],[()=>([Symbol.for('dot'),__Oak_Empty,__Oak_Empty]),()=>(add(render(token),0))],[()=>([Symbol.for('exclam'),__Oak_Empty,__Oak_Empty]),()=>(add(render(token),0))],[()=>([Symbol.for('minus'),__Oak_Empty,__Oak_Empty]),()=>(__oak_if(lastLastType,[[()=>(Symbol.for('leftParen')),()=>(add(render(token),0))],[()=>(Symbol.for('leftBracket')),()=>(add(render(token),0))],[()=>(Symbol.for('leftBrace')),()=>(add(render(token),0))],[()=>(Symbol.for('ifKeyword')),()=>(add(render(token),0))],[()=>(Symbol.for('exclam')),()=>(add(render(token),0))],[()=>(Symbol.for('minus')),()=>(add(render(token),0))],[()=>(Symbol.for('newline')),()=>(add(render(token),0))],[()=>(Symbol.for('comma')),()=>(add(render(token),0))],[()=>(Symbol.for('colon')),()=>(add(render(token),0))],[()=>(__Oak_Empty),()=>(__oak_if(connectingToken__oak_qm(lastLastType),[[()=>(true),()=>(add(render(token),0))],[()=>(__Oak_Empty),()=>(add(__oak_push(__Oak_String(` `),render(token)),0))]]))]]))],[()=>([Symbol.for('colon'),Symbol.for('identifier'),__Oak_Empty]),()=>(__oak_if(lastLastType,[[()=>(Symbol.for('leftParen')),()=>(add(render(token),0))],[()=>(Symbol.for('leftBracket')),()=>(add(render(token),0))],[()=>(Symbol.for('leftBrace')),()=>(add(render(token),0))],[()=>(Symbol.for('rightParen')),()=>(add(render(token),0))],[()=>(Symbol.for('rightBracket')),()=>(add(render(token),0))],[()=>(Symbol.for('rightBrace')),()=>(add(render(token),0))],[()=>(Symbol.for('ifKeyword')),()=>(add(render(token),0))],[()=>(Symbol.for('exclam')),()=>(add(render(token),0))],[()=>(Symbol.for('minus')),()=>(add(render(token),0))],[()=>(Symbol.for('newline')),()=>(add(render(token),0))],[()=>(Symbol.for('comma')),()=>(add(render(token),0))],[()=>(Symbol.for('colon')),()=>(add(render(token),0))],[()=>(__Oak_Empty),()=>(__oak_if(connectingToken__oak_qm(lastLastType),[[()=>(true),()=>(add(render(token),0))],[()=>(__Oak_Empty),()=>(add(__oak_push(__Oak_String(` `),render(token)),0))]]))]]))],[()=>([Symbol.for('leftBrace'),__Oak_Empty,__Oak_Empty]),()=>(add(__oak_push(__Oak_String(` `),render(token)),0))],[()=>(__Oak_Empty),()=>(add(__oak_push(__Oak_String(` `),render(token)),0))]]) })()});__oak_push(indents,indentLine(last(tokens)));each(indents,function _(n=null,i=null){return __oak_if(i,[[()=>(0),()=>(null)],[()=>(__Oak_Empty),()=>(__oak_if((n<(()=>{let __oak_acc_trgt=__as_oak_string(indents);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[((i-1))])||null:(__oak_acc_trgt[((i-1))]!==undefined?__oak_acc_trgt[((i-1))]:null)})()),[[()=>(true),()=>((()=>{ let sub;let target;sub=function sub(j=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(j=null){return (__oak_if(true,[[()=>(((()=>{let __oak_acc_trgt=__as_oak_string(indents);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(j)])||null:(__oak_acc_trgt[(j)]!==undefined?__oak_acc_trgt[(j)]:null)})()>n)),()=>(__oak_trampoline(__oak_trampolined_sub,(j-1)))],[()=>(__Oak_Empty),()=>(__as_oak_string(j+1))]]))});return __oak_resolve_trampoline(__oak_trampolined_sub,j) })()};(target=sub((i-1)));return __oak_if(true,[[()=>((((()=>{let __oak_acc_trgt=__as_oak_string(indents);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(target)])||null:(__oak_acc_trgt[(target)]!==undefined?__oak_acc_trgt[(target)]:null)})()-n)>1)),()=>((()=>{ let diff;(diff=((()=>{let __oak_acc_trgt=__as_oak_string(indents);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(target)])||null:(__oak_acc_trgt[(target)]!==undefined?__oak_acc_trgt[(target)]:null)})()-n));return each(range(target,i),function _(j=null){return ((()=>{let __oak_assgn_trgt=__as_oak_string(indents);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign((j),__as_oak_string(((()=>{let __oak_acc_trgt=__as_oak_string(indents);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(j)])||null:(__oak_acc_trgt[(j)]!==undefined?__oak_acc_trgt[(j)]:null)})()-diff)+1)):((__oak_assgn_trgt[(j)])=__as_oak_string(((()=>{let __oak_acc_trgt=__as_oak_string(indents);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(j)])||null:(__oak_acc_trgt[(j)]!==undefined?__oak_acc_trgt[(j)]:null)})()-diff)+1));return __oak_assgn_trgt})())}) })())]]) })())]]))]])});(indentedLines=map(lines,function _(line=null,i=null){return __oak_if(line,[[()=>(__Oak_String(``)),()=>(__Oak_String(``))],[()=>(__Oak_Empty),()=>(__oak_push(tabs((()=>{let __oak_acc_trgt=__as_oak_string(indents);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})()),line))]])}));return join(indentedLines,__Oak_String(`
`)) })()};return {print:print} })()};print=function print(text=null){return (()=>{ let printer;let tokens;(tokens=tokenize(text));(printer=Printer(tokens));return __oak_if(shebang__oak_qm(text),[[()=>(true),()=>(__oak_push(__oak_push((()=>{let __oak_acc_trgt=__as_oak_string(Tokenizer(text));return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[readUntilChar])||null:(__oak_acc_trgt.readUntilChar!==undefined?__oak_acc_trgt.readUntilChar:null)})()(__Oak_String(`
`)),__Oak_String(`
`)),(()=>{let __oak_acc_trgt=__as_oak_string(printer);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[print])||null:(__oak_acc_trgt.print!==undefined?__oak_acc_trgt.print:null)})()()))],[()=>(__Oak_Empty),()=>((()=>{let __oak_acc_trgt=__as_oak_string(printer);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[print])||null:(__oak_acc_trgt.print!==undefined?__oak_acc_trgt.print:null)})()())]]) })()};(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(Parser,Parser):((__oak_assgn_trgt.Parser)=Parser);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(Printer,Printer):((__oak_assgn_trgt.Printer)=Printer);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(Tokenizer,Tokenizer):((__oak_assgn_trgt.Tokenizer)=Tokenizer);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(append,append):((__oak_assgn_trgt.append)=append);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(contains__oak_qm,contains__oak_qm):((__oak_assgn_trgt.contains__oak_qm)=contains__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(__oak_js_default,__oak_js_default):((__oak_assgn_trgt.__oak_js_default)=__oak_js_default);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(digit__oak_qm,digit__oak_qm):((__oak_assgn_trgt.digit__oak_qm)=digit__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(each,each):((__oak_assgn_trgt.each)=each);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(filter,filter):((__oak_assgn_trgt.filter)=filter);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(format,format):((__oak_assgn_trgt.format)=format);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(fromHex,fromHex):((__oak_assgn_trgt.fromHex)=fromHex);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(join,join):((__oak_assgn_trgt.join)=join);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(map,map):((__oak_assgn_trgt.map)=map);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(max,max):((__oak_assgn_trgt.max)=max);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(min,min):((__oak_assgn_trgt.min)=min);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(parse,parse):((__oak_assgn_trgt.parse)=parse);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(print,print):((__oak_assgn_trgt.print)=print);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(printf,printf):((__oak_assgn_trgt.printf)=printf);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(range,range):((__oak_assgn_trgt.range)=range);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(reduce,reduce):((__oak_assgn_trgt.reduce)=reduce);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(renderPos,renderPos):((__oak_assgn_trgt.renderPos)=renderPos);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(renderToken,renderToken):((__oak_assgn_trgt.renderToken)=renderToken);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(replace,replace):((__oak_assgn_trgt.replace)=replace);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(shebang__oak_qm,shebang__oak_qm):((__oak_assgn_trgt.shebang__oak_qm)=shebang__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(slice,slice):((__oak_assgn_trgt.slice)=slice);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(space__oak_qm,space__oak_qm):((__oak_assgn_trgt.space__oak_qm)=space__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(startsWith__oak_qm,startsWith__oak_qm):((__oak_assgn_trgt.startsWith__oak_qm)=startsWith__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(strContains__oak_qm,strContains__oak_qm):((__oak_assgn_trgt.strContains__oak_qm)=strContains__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(tokenize,tokenize):((__oak_assgn_trgt.tokenize)=tokenize);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(trim,trim):((__oak_assgn_trgt.trim)=trim);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(trimEnd,trimEnd):((__oak_assgn_trgt.trimEnd)=trimEnd);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(trimStart,trimStart):((__oak_assgn_trgt.trimStart)=trimStart);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(word__oak_qm,word__oak_qm):((__oak_assgn_trgt.word__oak_qm)=word__oak_qm);return __oak_assgn_trgt})();return __module })()}),(__Oak_Import_Aliases={}),__oak_module_import(__Oak_String(`app.js.oak`)))